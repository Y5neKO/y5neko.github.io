<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>一些关于JavaFX的记录 | Y5neKO's Blog</title><meta name="author" content="Y5neKO"><meta name="copyright" content="Y5neKO"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="环境准备下载对应版本JavaFX，解压出来如下：bin目录下所有dll放入jdk的bin目录，lib目录下的所有jar包添加进项目库，src为source源。 Scene图 ## 概述 Scene图是一种树形数据结构，它排列（和分组）图形对象以便于逻辑表示。 它还允许图形引擎以最有效的方式渲染对象， 完全或部分跳过在最终图像中看不到的对象。 下图显示了JavaFX场景图架构的一个示例。  在架构的">
<meta property="og:type" content="article">
<meta property="og:title" content="一些关于JavaFX的记录">
<meta property="og:url" content="https://y5neko.github.io/2024/05/03/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EJavaFX%E7%9A%84%E8%AE%B0%E5%BD%95/index.html">
<meta property="og:site_name" content="Y5neKO&#39;s Blog">
<meta property="og:description" content="环境准备下载对应版本JavaFX，解压出来如下：bin目录下所有dll放入jdk的bin目录，lib目录下的所有jar包添加进项目库，src为source源。 Scene图 ## 概述 Scene图是一种树形数据结构，它排列（和分组）图形对象以便于逻辑表示。 它还允许图形引擎以最有效的方式渲染对象， 完全或部分跳过在最终图像中看不到的对象。 下图显示了JavaFX场景图架构的一个示例。  在架构的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://y5neko.github.io/image/Pasted%20image%2020240503162825.png">
<meta property="article:published_time" content="2024-05-02T16:00:00.000Z">
<meta property="article:modified_time" content="2024-08-20T03:25:04.000Z">
<meta property="article:author" content="Y5neKO">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://y5neko.github.io/image/Pasted%20image%2020240503162825.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://y5neko.github.io/2024/05/03/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EJavaFX%E7%9A%84%E8%AE%B0%E5%BD%95/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d4f6675f179ef53324ef6281fc51a93c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":1000,"position":"top","messagePrev":"这篇文章最后更新时间是","messageNext":"天之前，描述可能已经失效，请谨慎辨别."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Y5neKO","link":"链接: ","source":"来源: Y5neKO's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '一些关于JavaFX的记录',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-20 11:25:04'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/rss2.xml" title="Y5neKO's Blog" type="application/rss+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/friend_404.gif" data-lazy-src="https://q1.qlogo.cn/g?b=qq&amp;nk=1727058834&amp;s=640" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/image/Pasted%20image%2020240503162825.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Y5neKO's Blog"><span class="site-name">Y5neKO's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">一些关于JavaFX的记录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-02T16:00:00.000Z" title="发表于 2024-05-03 00:00:00">2024-05-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-20T03:25:04.000Z" title="更新于 2024-08-20 11:25:04">2024-08-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">19.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>84分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="一些关于JavaFX的记录"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2024/05/03/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EJavaFX%E7%9A%84%E8%AE%B0%E5%BD%95/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>下载对应版本JavaFX，解压出来如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429164508.png" alt="20240429164508.png" /><br>bin目录下所有dll放入jdk的bin目录，lib目录下的所有jar包添加进项目库，src为source源。</p>
<h1 id="Scene图"><a href="#Scene图" class="headerlink" title="Scene图"></a>Scene图</h1><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240503162825.png" alt="20240503162825.png" />
## 概述
Scene图是一种树形数据结构，它排列（和分组）图形对象以便于逻辑表示。 它还允许图形引擎以最有效的方式渲染对象， 完全或部分跳过在最终图像中看不到的对象。 下图显示了JavaFX场景图架构的一个示例。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429164815.png" alt="20240429164815.png" />
在架构的最顶端有一个`Stage`。 `Stage`是原生操作系统窗口的JavaFX表示。 在任何给定的时间，阶段可以有一个单一的`Scene`连接到它。 场景是JavaFX场景图的容器。
JavaFX `Stage`图中的所有元素都表示为`Node`对象。 节点有三种类型：根、分支和叶。 根节点是唯一没有父节点的节点 直接包含在一个场景中，如上图所示。 分支和叶节点之间的区别在于叶节点没有子节点。
在scene图中，父节点的许多属性由子节点共享。 例如，应用于父节点的转换或事件也将递归地应用于其子节点。 因此，可以将复杂的节点层次结构视为单个节点，以简化编程模型。 我们将在后面的章节中探索转换和事件。
一个"Hello World" scene图的例子可以在下图中看到。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429224324.png" alt="20240429224324.png" />
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Parent;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.StackPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.Text;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> Parent <span class="title function_">createContent</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StackPane</span>(<span class="keyword">new</span> <span class="title class_">Text</span>(<span class="string">&quot;Hello World&quot;</span>));  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage stage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        stage.setScene(<span class="keyword">new</span> <span class="title class_">Scene</span>(createContent(), <span class="number">300</span>, <span class="number">300</span>));  </span><br><span class="line">        stage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
运行结果如下：
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429224453.png" alt="20240429224453.png" />
> 一个节点最多可以有1个父节点。
> "活动"（附加到当前可见场景）场景图中的节点只能从JavaFX应用程序线程修改。

<h2 id="Transformations"><a href="#Transformations" class="headerlink" title="Transformations"></a>Transformations</h2><p>下面将演示3种最常见的转换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Parent;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Pane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Rectangle;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TransformApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> Parent <span class="title function_">createContent</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="type">Rectangle</span> <span class="variable">box</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="number">100</span>, <span class="number">50</span>, Color.BLUE);  </span><br><span class="line">  </span><br><span class="line">        transform(box);  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(box);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">transform</span><span class="params">(Rectangle box)</span> &#123;  </span><br><span class="line">        <span class="comment">// we will apply transformations here  </span></span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage stage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        stage.setScene(<span class="keyword">new</span> <span class="title class_">Scene</span>(createContent(), <span class="number">300</span>, <span class="number">300</span>, Color.GRAY));  </span><br><span class="line">        stage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429224918.png" alt="20240429224918.png" /><br>在JavaFX中，一个简单的转换可以发生在三个轴之一：X，Y或Z。 示例应用程序是2D的，因此我们将只考虑X和Y轴。</p>
<h3 id="Translate"><a href="#Translate" class="headerlink" title="Translate"></a>Translate</h3><p>在JavaFX和计算机图形学中，<code>translate</code>意味着移动。 我们可以在X轴上平移100像素，在Y轴上平移200像素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">transform</span><span class="params">(Rectangle box)</span> &#123;</span><br><span class="line">    box.setTranslateX(<span class="number">100</span>);</span><br><span class="line">    box.setTranslateY(<span class="number">200</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429225204.png" alt="20240429225204.png" /></p>
<h3 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h3><p>可以应用缩放以使节点更大或更小。 缩放值是一个比率。 默认情况下，节点在每个轴上的缩放值为1（100%）。 我们可以通过在X和Y轴上应用1.5的缩放比例来放大我们的盒子。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">transform</span><span class="params">(Rectangle box)</span> &#123;</span><br><span class="line">    <span class="comment">// previous code</span></span><br><span class="line"></span><br><span class="line">    box.setScaleX(<span class="number">1.5</span>);</span><br><span class="line">    box.setScaleY(<span class="number">1.5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Rotate"><a href="#Rotate" class="headerlink" title="Rotate"></a>Rotate</h3><p>节点的旋转决定了渲染节点的角度。 在2D中，唯一合理的旋转轴是Z轴。 让我们把盒子旋转30度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">transform</span><span class="params">(Rectangle box)</span> &#123;</span><br><span class="line">    <span class="comment">// previous code</span></span><br><span class="line"></span><br><span class="line">    box.setRotate(<span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240429225929.png" alt="20240429225929.png" /></p>
<h2 id="Event-Handling"><a href="#Event-Handling" class="headerlink" title="Event Handling"></a>Event Handling</h2><p>事件通知发生了重要的事情。 事件通常是事件系统的”原语”（也称为事件总线）。 一般来说，事件系统有以下三个职责：</p>
<ul>
<li><code>fire</code>（触发）事件</li>
<li>通知<code>listeners</code>（相关方）有关事件</li>
<li><code>handle</code>（处理）事件<br>事件通知机制由JavaFX平台自动完成。 因此只考虑如何触发事件，侦听事件以及如何处理。<br>首先创建一个自定义事件。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.event.Event;  </span><br><span class="line"><span class="keyword">import</span> javafx.event.EventType;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Handling</span> <span class="keyword">extends</span> <span class="title class_">Event</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> EventType&lt;Handling&gt; ANY = <span class="keyword">new</span> <span class="title class_">EventType</span>&lt;&gt;(Event.ANY, <span class="string">&quot;ANY&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> EventType&lt;Handling&gt; LOGIN_SUCCEEDED = <span class="keyword">new</span> <span class="title class_">EventType</span>&lt;&gt;(ANY, <span class="string">&quot;LOGIN_SUCCEEDED&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> EventType&lt;Handling&gt; LOGIN_FAILED = <span class="keyword">new</span> <span class="title class_">EventType</span>&lt;&gt;(ANY, <span class="string">&quot;LOGIN_FAILED&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Handling</span><span class="params">(EventType&lt;? extends Event&gt; eventType)</span> &#123;  </span><br><span class="line">        <span class="built_in">super</span>(eventType);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
由于事件类型是固定的，它们通常与事件在同一个源文件中创建。 我们可以看到有两种特定类型的事件：LOGIN_SUCCEEDED和LOGIN_FAILED。 我们可以监听这些特定类型的事件：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> ...</span><br><span class="line">node.addEventHandler(UserEvent.LOGIN_SUCCEEDED, event -&gt; &#123;</span><br><span class="line">    <span class="comment">// handle event</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
或者，我们可以处理任何<code>UserEvent</code>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> ...</span><br><span class="line">node.addEventHandler(UserEvent.ANY, event -&gt; &#123;</span><br><span class="line">    <span class="comment">// handle event</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
最后，我们可以构建和触发自己的事件：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UserEvent</span> <span class="variable">event</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserEvent</span>(UserEvent.LOGIN_SUCCEEDED);</span><br><span class="line"><span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> ...</span><br><span class="line">node.fireEvent(event);</span><br></pre></td></tr></table></figure>
例如，当用户尝试登录应用程序时，可能会触发<code>LOGIN_SUCCEEDED</code>或<code>LOGIN_FAILED</code>。 根据登录结果，我们可以允许用户访问应用程序或将其锁定在应用程序之外。 虽然同样的功能可以通过简单的<code>if</code>语句实现， 事件系统有一个显著的优点。 事件系统被设计成能够在各种模块（子系统）之间进行通信， 一个应用程序，而不紧密耦合它们。 因此，当用户登录时，音频系统可能会播放声音。 因此，在其自己的模块中维护所有音频相关代码。 但是，我们不会深入研究建筑风格。</li>
</ul>
<h3 id="输入事件"><a href="#输入事件" class="headerlink" title="输入事件"></a>输入事件</h3><p>按键和鼠标事件是JavaFX中最常见的事件类型。 每个<code>Node</code>都提供了所谓的“便利方法”来处理这些事件。 例如，我们可以在按下按钮时运行一些代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> ...</span><br><span class="line">button.setOnAction(event -&gt; &#123;</span><br><span class="line">    <span class="comment">// button was pressed</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>为了获得更大的灵活性，我们还可以使用以下方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> ...</span><br><span class="line">button.setOnMouseEntered(e -&gt; ...);</span><br><span class="line">button.setOnMouseExited(e -&gt; ...);</span><br><span class="line">button.setOnMousePressed(e -&gt; ...);</span><br><span class="line">button.setOnMouseReleased(e -&gt; ...);</span><br></pre></td></tr></table></figure>
<p>上面的对象<code>e</code>属于类型<code>MouseEvent</code>，可以通过查询来获得有关事件的各种信息， 例如<code>x</code>和<code>y</code>位置、点击次数等。 最后，我们可以对keys做同样的事情：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> ...</span><br><span class="line">button.setOnKeyPressed(e -&gt; ...);</span><br><span class="line">button.setOnKeyReleased(e -&gt; ...);</span><br></pre></td></tr></table></figure>
<p>这里的对象<code>e</code>属于类型<code>KeyEvent</code>，它携带有关键代码的信息，然后可以映射这些信息 键盘上的一个真实的物理键。</p>
<h2 id="Timing"><a href="#Timing" class="headerlink" title="Timing"></a>Timing</h2><p>理解JavaFX UI控件的创建和控件的显示之间的时间差异非常重要。 在创建UI控件时—通过直接API对象创建或通过FXML—您可能会丢失某些屏幕几何值，例如窗口的尺寸。这是以后可用的，在屏幕显示给用户的瞬间。 该显示事件称为OnShown，是指分配窗口和完成最终布局计算的时间。</p>
<p>为了演示这一点，考虑以下程序，该程序在创建UI控件时显示屏幕尺寸，在显示屏幕时显示屏幕尺寸。 下面的屏幕截图显示了程序的运行。 在创建UI控件（new VBox(), new Scene(), primaryStage.setScene()）时，没有可用的实际窗口高度和宽度值，这可以通过未定义的“NaN”值来证明。<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430093300.png" alt="20240430093300.png" /><br>但是，一旦显示窗口，宽度和高度的值就可用了。 程序为OnShown事件注册一个事件处理程序，并准备相同的输出。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.binding.Bindings;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.property.DoubleProperty;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.property.SimpleDoubleProperty;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Label;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.TextField;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.GridPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> javafx.geometry.Pos.CENTER;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StartVsShownJavaFXApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">DoubleProperty</span> <span class="variable">startX</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDoubleProperty</span>();  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">DoubleProperty</span> <span class="variable">startY</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDoubleProperty</span>();  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">DoubleProperty</span> <span class="variable">shownX</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDoubleProperty</span>();  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">DoubleProperty</span> <span class="variable">shownY</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDoubleProperty</span>();  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">startLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Start Dimensions&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">startTF</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">        startTF.textProperty().bind(  </span><br><span class="line">                Bindings.format(<span class="string">&quot;(%.1f, %.1f)&quot;</span>, startX, startY)  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        System.out.println(startX);  </span><br><span class="line">        System.out.println(startY);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">shownLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Shown Dimensions&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">shownTF</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">        shownTF.textProperty().bind(  </span><br><span class="line">                Bindings.format(<span class="string">&quot;(%.1f, %.1f)&quot;</span>, shownX, shownY)  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();  </span><br><span class="line">        gp.add( startLabel, <span class="number">0</span>, <span class="number">0</span> );  </span><br><span class="line">        gp.add( startTF, <span class="number">1</span>, <span class="number">0</span> );  </span><br><span class="line">        gp.add( shownLabel, <span class="number">0</span>, <span class="number">1</span> );  </span><br><span class="line">        gp.add( shownTF, <span class="number">1</span>, <span class="number">1</span> );  </span><br><span class="line">        gp.setHgap(<span class="number">10</span>);  </span><br><span class="line">        gp.setVgap(<span class="number">10</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">hbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>(gp);  </span><br><span class="line">        hbox.setAlignment(CENTER);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>(hbox);  </span><br><span class="line">        vbox.setAlignment(CENTER);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>( vbox, <span class="number">480</span>, <span class="number">320</span> );  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// before show()...I just set this to 480x320, right?  </span></span><br><span class="line">        startX.set( primaryStage.getWidth() );  </span><br><span class="line">        startY.set( primaryStage.getHeight() );  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setOnShown( (evt) -&gt; &#123;  </span><br><span class="line">            shownX.set( primaryStage.getWidth() );  </span><br><span class="line">            shownY.set( primaryStage.getHeight() );  <span class="comment">// all available now  </span></span><br><span class="line">        &#125;);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Start Vs. Shown&quot;</span>);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="UI控件"><a href="#UI控件" class="headerlink" title="UI控件"></a>UI控件</h1><h2 id="ChoiceBox"><a href="#ChoiceBox" class="headerlink" title="ChoiceBox"></a>ChoiceBox</h2><p>这篇文章展示了<code>ChoiceBox</code>。 <code>ChoiceBox</code>控件是一个值列表，用户可以从中进行选择。 在这个特定的实现中，有一个空值，它使选择成为可选的。<br>下面为一个示例：<br>将<code>Label</code>、<code>ChoiceBox</code>和<code>Button</code>放入HBox。 在保存<code>Button</code>上设置一个操作，打印出该值。<br><code>ChoiceBox</code>最简单的用法是用String填充它。 本文中的<code>ChoiceBox</code>构建在一个名为<code>Pair</code>的JavaFX类上。 <code>Pair</code>是任何键&#x2F;值对的通用容器，可以用来代替域或其他特殊用途的对象。 字符串只有在不需要操作就可以使用或者可以一致地解码的情况下才应该使用。<br><code>ChoiceBox</code>最简单的用法是用String填充它。 本文中的<code>ChoiceBox</code>构建在一个名为<code>Pair</code>的JavaFX类上。 <code>Pair</code>是任何键&#x2F;值对的通用容器，可以用来代替域或其他特殊用途的对象。 字符串只有在不需要操作就可以使用或者可以一致地解码的情况下才应该使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Pos;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Button;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.ChoiceBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Label;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> javafx.util.Pair;  </span><br><span class="line"><span class="keyword">import</span> javafx.util.StringConverter;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;  </span><br><span class="line"><span class="keyword">import</span> java.util.List;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChoiceApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Pair&lt;String, String&gt; EMPTY_PAIR = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ChoiceBox&lt;Pair&lt;String,String&gt;&gt; assetClass = <span class="keyword">new</span> <span class="title class_">ChoiceBox</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Asset Class:&quot;</span>);  </span><br><span class="line">        assetClass.setPrefWidth(<span class="number">200</span>);  </span><br><span class="line">        assetClass.setValue(<span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Equipment&quot;</span>, <span class="string">&quot;20000&quot;</span>));  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">saveButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Save&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">hbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>(  </span><br><span class="line">                label,  </span><br><span class="line">                assetClass,  </span><br><span class="line">                saveButton);  </span><br><span class="line">        hbox.setSpacing( <span class="number">10.0d</span> );  </span><br><span class="line">        hbox.setAlignment(Pos.CENTER );  </span><br><span class="line">        hbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">40</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(hbox);  </span><br><span class="line">  </span><br><span class="line">        initChoice();  </span><br><span class="line">  </span><br><span class="line">        saveButton.setOnAction(  </span><br><span class="line">                (evt) -&gt; System.out.println(<span class="string">&quot;saving &quot;</span> + assetClass.getValue())  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;ChoicesApp&quot;</span>);  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initChoice</span><span class="params">()</span> &#123;  </span><br><span class="line">  </span><br><span class="line">        List&lt;Pair&lt;String,String&gt;&gt; assetClasses = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Equipment&quot;</span>, <span class="string">&quot;20000&quot;</span>));  </span><br><span class="line">        assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Furniture&quot;</span>, <span class="string">&quot;21000&quot;</span>));  </span><br><span class="line">        assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Investment&quot;</span>, <span class="string">&quot;22000&quot;</span>));  </span><br><span class="line">  </span><br><span class="line">        assetClass.setConverter( <span class="keyword">new</span> <span class="title class_">StringConverter</span>&lt;Pair&lt;String,String&gt;&gt;() &#123;  </span><br><span class="line">            <span class="meta">@Override</span>  </span><br><span class="line">            <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">(Pair&lt;String, String&gt; pair)</span> &#123;  </span><br><span class="line">                <span class="keyword">return</span> pair.getKey();  </span><br><span class="line">            &#125;  </span><br><span class="line">  </span><br><span class="line">            <span class="meta">@Override</span>  </span><br><span class="line">            <span class="keyword">public</span> Pair&lt;String, String&gt; <span class="title function_">fromString</span><span class="params">(String string)</span> &#123;  </span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">  </span><br><span class="line">        assetClass.getItems().add( EMPTY_PAIR );  </span><br><span class="line">        assetClass.getItems().addAll( assetClasses );  </span><br><span class="line">        assetClass.setValue(<span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Equipment&quot;</span>, <span class="string">&quot;20000&quot;</span>));  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430110534.png" alt="20240430110534.png" /><br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430110615.png" alt="20240430110615.png" /></p>
<h3 id="StringConverter"><a href="#StringConverter" class="headerlink" title="StringConverter"></a>StringConverter</h3><p>当使用一个复杂的对象来支持一个<code>ChoiceBox</code>时，需要一个<code>StringConverter</code>。 这个对象将一个String序列化到<code>ChoiceBox</code>和从<code>Pair</code>序列化。 对于这个程序，只需要编写toString（）来替换undefined对象的默认toString（）。 (Both toString和fromString需要一个实现才能编译。）<br>空对象EMPTY_PAIR用于防止空指针插入。 从assetClass（）.getValue（）返回的值可以被一致地访问和比较，而不需要添加特殊的null处理逻辑。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Pair&lt;String, String&gt; EMPTY_PAIR = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initChoice</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Pair&lt;String,String&gt;&gt; assetClasses = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>(<span class="string">&quot;Equipment&quot;</span>, <span class="string">&quot;20000&quot;</span>));</span><br><span class="line">    assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>(<span class="string">&quot;Furniture&quot;</span>, <span class="string">&quot;21000&quot;</span>));</span><br><span class="line">    assetClasses.add( <span class="keyword">new</span> <span class="title class_">Pair</span>(<span class="string">&quot;Investment&quot;</span>, <span class="string">&quot;22000&quot;</span>));</span><br><span class="line"></span><br><span class="line">    assetClass.setConverter( <span class="keyword">new</span> <span class="title class_">StringConverter</span>&lt;Pair&lt;String,String&gt;&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">(Pair&lt;String, String&gt; pair)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> pair.getKey();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Pair&lt;String, String&gt; <span class="title function_">fromString</span><span class="params">(String string)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    assetClass.getItems().add( EMPTY_PAIR );</span><br><span class="line">    assetClass.getItems().addAll( assetClasses );</span><br><span class="line">    assetClass.setValue( EMPTY_PAIR );</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>选择框用于从值列表中进行选择。 当值列表是复杂类型时，提供StringFormatter将列表对象序列化为可表示的对象。 如果可能，请使用空对象（而不是null）来支持可选值。</p>
<h2 id="ComboBox"><a href="#ComboBox" class="headerlink" title="ComboBox"></a>ComboBox</h2><p><code>ComboBox</code>是一个混合控件，它提供一个值列表和一个编辑控件。 本文演示了<code>ComboBox</code>的基本形式，这是一个基于复杂数据结构的不可编辑的项目列表。<br>下面是一个示例：<br>向HBox添加了一个Label、一个ComboBox和一个Button。 ComboBox被实例化为一个字段，并在后面的initCombo（）方法中初始化。 处理程序放在保存按钮上，如果选择了某个项目，则输出一个值，如果未选择任何项目，则输出一条特殊消息。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Pos;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> javafx.util.Callback;  </span><br><span class="line"><span class="keyword">import</span> javafx.util.Pair;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;  </span><br><span class="line"><span class="keyword">import</span> java.util.List;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CombosApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ComboBox&lt;Pair&lt;String, String&gt;&gt; account = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Pair&lt;String, String&gt; EMPTY_PAIR = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">accountsLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Account:&quot;</span>);  </span><br><span class="line">        account.setPrefWidth(<span class="number">200</span>);  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">saveButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Save&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">hbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>(  </span><br><span class="line">                accountsLabel,  </span><br><span class="line">                account,  </span><br><span class="line">                saveButton);  </span><br><span class="line">        hbox.setSpacing( <span class="number">10.0d</span> );  </span><br><span class="line">        hbox.setAlignment(Pos.CENTER );  </span><br><span class="line">        hbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">40</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(hbox);  </span><br><span class="line">  </span><br><span class="line">        initCombo();  </span><br><span class="line">  </span><br><span class="line">        saveButton.setOnAction( (evt) -&gt; &#123;  </span><br><span class="line">            <span class="keyword">if</span>( account.getValue().equals(EMPTY_PAIR) ) &#123;  </span><br><span class="line">                System.out.println(<span class="string">&quot;no save needed; no item selected&quot;</span>);  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                System.out.println(<span class="string">&quot;saving &quot;</span> + account.getValue());  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;CombosApp&quot;</span>);  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initCombo</span><span class="params">()</span> &#123;  </span><br><span class="line">  </span><br><span class="line">        List&lt;Pair&lt;String,String&gt;&gt; accounts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">        accounts.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Auto Expense&quot;</span>, <span class="string">&quot;60000&quot;</span>) );  </span><br><span class="line">        accounts.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Interest Expense&quot;</span>, <span class="string">&quot;61000&quot;</span>) );  </span><br><span class="line">        accounts.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Office Expense&quot;</span>, <span class="string">&quot;62000&quot;</span>) );  </span><br><span class="line">        accounts.add( <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="string">&quot;Salaries Expense&quot;</span>, <span class="string">&quot;63000&quot;</span>) );  </span><br><span class="line">  </span><br><span class="line">        account.getItems().add( EMPTY_PAIR );  </span><br><span class="line">        account.getItems().addAll( accounts );  </span><br><span class="line">        account.setValue( EMPTY_PAIR );  </span><br><span class="line">  </span><br><span class="line">        Callback&lt;ListView&lt;Pair&lt;String,String&gt;&gt;, ListCell&lt;Pair&lt;String,String&gt;&gt;&gt; factory =  </span><br><span class="line">            (lv) -&gt;  </span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">ListCell</span>&lt;Pair&lt;String,String&gt;&gt;() &#123;  </span><br><span class="line">                        <span class="meta">@Override</span>  </span><br><span class="line">                        <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">updateItem</span><span class="params">(Pair&lt;String, String&gt; item, <span class="type">boolean</span> empty)</span> &#123;  </span><br><span class="line">                            <span class="built_in">super</span>.updateItem(item, empty);  </span><br><span class="line">                            <span class="keyword">if</span>( empty ) &#123;  </span><br><span class="line">                                setText(<span class="string">&quot;&quot;</span>);  </span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                                setText( item.getKey() );  </span><br><span class="line">                            &#125;  </span><br><span class="line">                        &#125;  </span><br><span class="line">                    &#125;;  </span><br><span class="line">  </span><br><span class="line">        account.setCellFactory( factory );  </span><br><span class="line">        account.setButtonCell( factory.call( <span class="literal">null</span> ) );  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="CellFactory"><a href="#CellFactory" class="headerlink" title="CellFactory"></a>CellFactory</h3><p>initCombo（）方法将几个费用帐户添加到<code>List</code>中。 在添加空的<code>List</code>对象之后，此<code>ComboBox</code>被添加到<code>Pair</code>项。 初始值设置为EMPTY_PAIR，它是一个常量。</p>
<p>如果没有指定，<code>ComboBox</code>将使用对象的toString（）方法（在本文中，是一个<code>Pair</code>）来呈现一个后台对象。 对于字符串，例如”是”或”否”选择，不需要额外的代码。 然而，<code>Pair</code>的toString（）将输出人类可读的键和机器首选的值。 此<code>ComboBox</code>的要求是在显示器中仅使用人类可读的键。</p>
<p>为此，提供了一个cellFactory，它将配置一个以<code>ListCell</code>键为内容的<code>Pair</code>对象。 <code>Callback</code>类型是冗长的，但工厂的要点是在匿名内部类的updateItem（）方法中设置<code>ListCell</code>的文本。 请注意，必须调用超类方法。</p>
<p><code>Callback</code>在setButtonCell（）方法中用于为编辑控件提供单元格。 请注意，此程序不可编辑，这是默认设置。 但是，需要factory.call（null），否则只有弹出菜单的内容将被正确格式化，控件的视图将返回到toString（）。<br>本文介绍了<code>ComboBox</code>的一个简单用法。 由于此控件不可编辑，因此可以替换<code>ChoiceBox</code>。 对于不可编辑的图形渲染（例如状态值的颜色编码形状），仍然需要<code>ComboBox</code>来定义控件中使用的特定<code>Node</code>。</p>
<h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><h3 id="JavaFX中的ListView-Filtering"><a href="#JavaFX中的ListView-Filtering" class="headerlink" title="JavaFX中的ListView Filtering"></a>JavaFX中的ListView Filtering</h3><p>本文演示了如何在JavaFX应用程序中过滤ListView。 应用程序管理两个列表。 一个列表包含数据模型中的所有项。 第二个列表包含当前正在查看的项目。 作为过滤器存储的比较逻辑碎片在两者之间进行调解。<br>大量使用绑定来保持数据结构与用户选择的内容同步。<br>这个屏幕截图显示了应用程序，它包含一个设置过滤器的ToggleView的顶行和一个包含对象的ListView。</p>
<h4 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h4><p>该程序以一个域模型Player和一个Player对象数组开始。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Player</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String team;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String playerName;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Player</span><span class="params">(String team, String playerName)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.team = team;</span><br><span class="line">		<span class="built_in">this</span>.playerName = playerName;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getTeam</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> team;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getPlayerName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> playerName;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123; <span class="keyword">return</span> playerName + <span class="string">&quot; (&quot;</span> + team + <span class="string">&quot;)&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Player类包含一对字段：team和playerName。 提供了toString（），以便在将对象添加到ListView（稍后介绍）时，不需要自定义ListCell类。<br>这个例子的测试数据是美国棒球运动员的列表。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Player[] players = &#123;<span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;David Ortiz&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Jackie Bradley Jr.&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Xander Bogarts&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Mookie Betts&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;HOU&quot;</span>, <span class="string">&quot;Jose Altuve&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;HOU&quot;</span>, <span class="string">&quot;Will Harris&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Max Scherzer&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Bryce Harper&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Daniel Murphy&quot;</span>),</span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Wilson Ramos&quot;</span>) &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h4><p>如本文开头所述，ListView过滤主要围绕两个列表的管理。 所有对象都存储在包装的ObservableList playersProperty中，当前可见的对象存储在包装的FilteredList，viewablePlayersProperty中。 viewablePlayersProperty是基于playersProperty构建的，因此对符合FilteredList条件的播放器进行的更新也会对viewablePlayers进行更新。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ReadOnlyObjectProperty&lt;ObservableList&lt;Player&gt;&gt; playersProperty =</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">SimpleObjectProperty</span>&lt;&gt;(FXCollections.observableArrayList());</span><br><span class="line"></span><br><span class="line">ReadOnlyObjectProperty&lt;FilteredList&lt;Player&gt;&gt; viewablePlayersProperty =</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">SimpleObjectProperty</span>&lt;FilteredList&lt;Player&gt;&gt;(</span><br><span class="line">				<span class="keyword">new</span> <span class="title class_">FilteredList</span>&lt;&gt;(playersProperty.get()</span><br><span class="line">						));</span><br></pre></td></tr></table></figure>
<p>filterProperty（）是一种方便，允许调用者绑定到底层Predicate。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ObjectProperty&lt;Predicate&lt;? <span class="built_in">super</span> Player&gt;&gt; filterProperty =</span><br><span class="line">	viewablePlayersProperty.get().predicateProperty();</span><br></pre></td></tr></table></figure>
<p>UI根是一个VBox，其中包含一个ToggleView的HBox和一个ListView。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line">vbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>));</span><br><span class="line">vbox.setSpacing(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">HBox</span> <span class="variable">hbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();</span><br><span class="line">hbox.setSpacing( <span class="number">2</span> );</span><br><span class="line"></span><br><span class="line"><span class="type">ToggleGroup</span> <span class="variable">filterTG</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleGroup</span>();</span><br></pre></td></tr></table></figure>
<h4 id="Filtering-Action"><a href="#Filtering-Action" class="headerlink" title="Filtering Action"></a>Filtering Action</h4><p>一个处理程序被附加到ToggleList中，它将修改filterProperty。 每个ToggleButton都在userData字段中提供一个Predicate。 toggle设置filter属性时使用提供的Predicate。 这段代码设置了“全部显示”ToggleButton的特殊情况。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">EventHandler&lt;ActionEvent&gt; toggleHandler = (event) -&gt; &#123;</span><br><span class="line">		<span class="type">ToggleButton</span> <span class="variable">tb</span> <span class="operator">=</span> (ToggleButton)event.getSource();</span><br><span class="line">	    Predicate&lt;Player&gt; filter = (Predicate&lt;Player&gt;)tb.getUserData();</span><br><span class="line">	    filterProperty.set( filter );</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">ToggleButton</span> <span class="variable">tbShowAll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleButton</span>(<span class="string">&quot;Show All&quot;</span>);</span><br><span class="line">tbShowAll.setSelected(<span class="literal">true</span>);</span><br><span class="line">tbShowAll.setToggleGroup( filterTG );</span><br><span class="line">tbShowAll.setOnAction(toggleHandler);</span><br><span class="line">tbShowAll.setUserData( (Predicate&lt;Player&gt;) (Player p) -&gt; <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<p>筛选特定团队的切换表是在运行时基于Players数组创建的。 此Stream执行以下操作。</p>
<ol>
<li>将球员列表提取为团队字符串的不同列表</li>
<li>为每个团队创建一个ToggleButton字符串</li>
<li>为每个要用作过滤器的ToggleButton设置谓词</li>
<li>收集Toggle标签以添加到HBox容器中<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">List&lt;ToggleButton&gt; tbs = Arrays.asList( players)</span><br><span class="line">		.stream()</span><br><span class="line">		.map( (p) -&gt; p.getTeam() )</span><br><span class="line">		.distinct()</span><br><span class="line">		.map( (team) -&gt; &#123;</span><br><span class="line">			<span class="type">ToggleButton</span> <span class="variable">tb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleButton</span>( team );</span><br><span class="line">			tb.setToggleGroup( filterTG );</span><br><span class="line">			tb.setOnAction( toggleHandler );</span><br><span class="line">			tb.setUserData( (Predicate&lt;Player&gt;) (Player p) -&gt; team.equals(p.getTeam()) );</span><br><span class="line">			<span class="keyword">return</span> tb;</span><br><span class="line">		&#125;)</span><br><span class="line">		.collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">hbox.getChildren().add( tbShowAll );</span><br><span class="line">hbox.getChildren().addAll( tbs );</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="ListView-1"><a href="#ListView-1" class="headerlink" title="ListView"></a>ListView</h4><p>下一步将创建ListView并将ListView绑定到viewablePlayersProperty。 这使ListView能够根据更改的筛选器接收更新。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ListView&lt;Player&gt; lv = <span class="keyword">new</span> <span class="title class_">ListView</span>&lt;&gt;();</span><br><span class="line">lv.itemsProperty().bind( viewablePlayersProperty );</span><br></pre></td></tr></table></figure>
<p>程序的其余部分创建场景并显示舞台。 onShown将数据集加载到playersProperty和viewablePlayersProperty列表中。 尽管在这个程序的特殊版本中，两个列表是同步的，但是如果股票过滤器与”无过滤器”完全不同，则不需要修改此代码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vbox.getChildren().addAll( hbox, lv );</span><br><span class="line"></span><br><span class="line"><span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);</span><br><span class="line"></span><br><span class="line">primaryStage.setScene( scene );</span><br><span class="line">		primaryStage.setOnShown((evt) -&gt; &#123;</span><br><span class="line">			playersProperty.get().addAll( players );</span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line">primaryStage.show();</span><br></pre></td></tr></table></figure>
<p>本文使用绑定将可查看的Player对象列表绑定到ListView。 当选择切换按钮时，可查看的播放器被更新。 这个选择应用了一个过滤器到一个完整的播放器集，它被单独维护为一个过滤列表。 绑定用于保持UI同步，并允许在设计中分离关注点。</p>
<h4 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.property.ObjectProperty;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.property.ReadOnlyObjectProperty;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.property.SimpleObjectProperty;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.FXCollections;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.ObservableList;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.transformation.FilteredList;  </span><br><span class="line"><span class="keyword">import</span> javafx.event.ActionEvent;  </span><br><span class="line"><span class="keyword">import</span> javafx.event.EventHandler;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.ListView;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.ToggleButton;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.ToggleGroup;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;  </span><br><span class="line"><span class="keyword">import</span> java.util.List;  </span><br><span class="line"><span class="keyword">import</span> java.util.function.Predicate;  </span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilterListApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// 创建测试数据  </span></span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       Player[] players = &#123;<span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;David Ortiz&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Jackie Bradley Jr.&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Xander Bogarts&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;BOS&quot;</span>, <span class="string">&quot;Mookie Betts&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;HOU&quot;</span>, <span class="string">&quot;Jose Altuve&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;HOU&quot;</span>, <span class="string">&quot;Will Harris&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Max Scherzer&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Bryce Harper&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Daniel Murphy&quot;</span>),  </span><br><span class="line">                           <span class="keyword">new</span> <span class="title class_">Player</span>(<span class="string">&quot;WSH&quot;</span>, <span class="string">&quot;Wilson Ramos&quot;</span>) &#125;;  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// 设置模型，该模型是两个玩家列表和一个筛选条件  </span></span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       ReadOnlyObjectProperty&lt;ObservableList&lt;Player&gt;&gt; playersProperty =  </span><br><span class="line">             <span class="keyword">new</span> <span class="title class_">SimpleObjectProperty</span>&lt;&gt;(FXCollections.observableArrayList());  </span><br><span class="line">  </span><br><span class="line">       ReadOnlyObjectProperty&lt;FilteredList&lt;Player&gt;&gt; viewablePlayersProperty =  </span><br><span class="line">             <span class="keyword">new</span> <span class="title class_">SimpleObjectProperty</span>&lt;FilteredList&lt;Player&gt;&gt;(  </span><br><span class="line">                   <span class="keyword">new</span> <span class="title class_">FilteredList</span>&lt;&gt;(playersProperty.get()  </span><br><span class="line">                         ));  </span><br><span class="line">  </span><br><span class="line">       ObjectProperty&lt;Predicate&lt;? <span class="built_in">super</span> Player&gt;&gt; filterProperty =  </span><br><span class="line">          viewablePlayersProperty.get().predicateProperty();  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// 构建 UI       //       VBox vbox = new VBox();  </span></span><br><span class="line">       vbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>));  </span><br><span class="line">       vbox.setSpacing(<span class="number">4</span>);  </span><br><span class="line">  </span><br><span class="line">       <span class="type">HBox</span> <span class="variable">hbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();  </span><br><span class="line">       hbox.setSpacing( <span class="number">2</span> );  </span><br><span class="line">  </span><br><span class="line">       <span class="type">ToggleGroup</span> <span class="variable">filterTG</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleGroup</span>();  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// toggleHandler 操作将根据所选的 TB 设置筛选器  </span></span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span>  </span><br><span class="line">       EventHandler&lt;ActionEvent&gt; toggleHandler = (event) -&gt; &#123;  </span><br><span class="line">             <span class="type">ToggleButton</span> <span class="variable">tb</span> <span class="operator">=</span> (ToggleButton)event.getSource();  </span><br><span class="line">              Predicate&lt;Player&gt; filter = (Predicate&lt;Player&gt;)tb.getUserData();  </span><br><span class="line">              filterProperty.set( filter );  </span><br><span class="line">          &#125;;  </span><br><span class="line">  </span><br><span class="line">       <span class="type">ToggleButton</span> <span class="variable">tbShowAll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleButton</span>(<span class="string">&quot;Show All&quot;</span>);  </span><br><span class="line">       tbShowAll.setSelected(<span class="literal">true</span>);  </span><br><span class="line">       tbShowAll.setToggleGroup( filterTG );  </span><br><span class="line">       tbShowAll.setOnAction(toggleHandler);  </span><br><span class="line">       tbShowAll.setUserData( (Predicate&lt;Player&gt;) (Player p) -&gt; <span class="literal">true</span>);  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// 从 Player 对象创建不同的团队列表，然后创建  </span></span><br><span class="line">       <span class="comment">// ToggleButtons（切换按钮）  </span></span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       List&lt;ToggleButton&gt; tbs = Arrays.asList( players)  </span><br><span class="line">             .stream()  </span><br><span class="line">             .map( (p) -&gt; p.getTeam() )  </span><br><span class="line">             .distinct()  </span><br><span class="line">             .map( (team) -&gt; &#123;  </span><br><span class="line">                <span class="type">ToggleButton</span> <span class="variable">tb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToggleButton</span>( team );  </span><br><span class="line">                tb.setToggleGroup( filterTG );  </span><br><span class="line">                tb.setOnAction( toggleHandler );  </span><br><span class="line">                tb.setUserData( (Predicate&lt;Player&gt;) (Player p) -&gt; team.equals(p.getTeam()) );  </span><br><span class="line">                <span class="keyword">return</span> tb;  </span><br><span class="line">             &#125;)  </span><br><span class="line">             .collect(Collectors.toList());  </span><br><span class="line">  </span><br><span class="line">       hbox.getChildren().add( tbShowAll );  </span><br><span class="line">       hbox.getChildren().addAll( tbs );  </span><br><span class="line">  </span><br><span class="line">       <span class="comment">//  </span></span><br><span class="line">       <span class="comment">// 创建绑定到 viewablePlayers 属性的 ListView       //       ListView&lt;Player&gt; lv = new ListView&lt;&gt;();  </span></span><br><span class="line">       lv.itemsProperty().bind( viewablePlayersProperty );  </span><br><span class="line">  </span><br><span class="line">       vbox.getChildren().addAll( hbox, lv );  </span><br><span class="line">  </span><br><span class="line">       <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">       primaryStage.setScene( scene );  </span><br><span class="line">       primaryStage.setOnShown((evt) -&gt; &#123;  </span><br><span class="line">          playersProperty.get().addAll( players );  </span><br><span class="line">       &#125;);  </span><br><span class="line">  </span><br><span class="line">       primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">       launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Player</span> &#123;  </span><br><span class="line">  </span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">final</span> String team;  </span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">final</span> String playerName;  </span><br><span class="line">       <span class="keyword">public</span> <span class="title function_">Player</span><span class="params">(String team, String playerName)</span> &#123;  </span><br><span class="line">          <span class="built_in">this</span>.team = team;  </span><br><span class="line">          <span class="built_in">this</span>.playerName = playerName;  </span><br><span class="line">       &#125;  </span><br><span class="line">       <span class="keyword">public</span> String <span class="title function_">getTeam</span><span class="params">()</span> &#123;  </span><br><span class="line">          <span class="keyword">return</span> team;  </span><br><span class="line">       &#125;  </span><br><span class="line">       <span class="keyword">public</span> String <span class="title function_">getPlayerName</span><span class="params">()</span> &#123;  </span><br><span class="line">          <span class="keyword">return</span> playerName;  </span><br><span class="line">       &#125;  </span><br><span class="line">       <span class="meta">@Override</span>  </span><br><span class="line">       <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123; <span class="keyword">return</span> playerName + <span class="string">&quot; (&quot;</span> + team + <span class="string">&quot;)&quot;</span>; &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430163242.png" alt="20240430163242.png" /></p>
<h2 id="TableView"><a href="#TableView" class="headerlink" title="TableView"></a>TableView</h2><p>对于JavaFX业务应用程序，<code>TableView</code>是一个必不可少的控件。 当您需要在扁平的行&#x2F;列结构中显示多个记录时，请使用<code>TableView</code>。 此示例显示了<code>TableView</code>的基本元素，并演示了应用JavaFX绑定时组件的强大功能。<br>演示应用程序是一个<code>TableView</code>和Buttons的pair。 <code>TableView</code>有四个表列：价格，项目，价格，税收。 <code>TableView</code>在三行中显示三个对象：机械键盘，产品键盘，O型环。<br>禁用的逻辑取决于<code>TableView</code>中的选择。 最初，没有选择任何项目，因此两个选项都被禁用。 如果选择了任何项目（以下屏幕截图中的第一个项目），则会启用库存<code>Button</code>。     还启用了Tax <code>Button</code>，但这需要咨询Tax值。<br>如果所选项目的Tax值为false，则Tax <code>Button</code>将被禁用。 此屏幕截图显示了选定的第二个项目。 库存<code>Button</code>已启用，但税<code>Button</code>未启用。</p>
<h3 id="模型及声明"><a href="#模型及声明" class="headerlink" title="模型及声明"></a>模型及声明</h3><p><code>TableView</code>是基于一个称为Item的POJO模型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Item</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String sku;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String descr;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Float price;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Boolean taxable;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Item</span><span class="params">(String sku, String descr, Float price, Boolean taxable)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sku = sku;</span><br><span class="line">        <span class="built_in">this</span>.descr = descr;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.taxable = taxable;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSku</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sku;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDescr</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> descr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Float <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">getTaxable</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> taxable;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>TableView</code>和<code>TableColumn</code>在声明中使用泛型。 对于<code>TableView</code>，类型参数是Item。 对于TableColumns，类型参数是Item和字段类型。 <code>TableColumn</code>的构造函数接受一个列名。 在本例中，列名与实际字段名略有不同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">TableView&lt;Item&gt; tblItems = <span class="keyword">new</span> <span class="title class_">TableView</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">TableColumn&lt;Item, String&gt; colSKU = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;SKU&quot;</span>);</span><br><span class="line">TableColumn&lt;Item, String&gt; colDescr = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Item&quot;</span>);</span><br><span class="line">TableColumn&lt;Item, Float&gt; colPrice = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Price&quot;</span>);</span><br><span class="line">TableColumn&lt;Item, Boolean&gt; colTaxable = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Tax&quot;</span>);</span><br><span class="line"></span><br><span class="line">tblItems.getColumns().addAll(</span><br><span class="line">    colSKU, colDescr, colPrice, colTaxable</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>向<code>TableView</code>添加模型项是通过向基础集合添加项来完成的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tblItems.getItems().addAll(</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Item</span>(<span class="string">&quot;KBD-0455892&quot;</span>, <span class="string">&quot;Mechanical Keyboard&quot;</span>, <span class="number">100.0f</span>, <span class="literal">true</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Item</span>( <span class="string">&quot;145256&quot;</span>, <span class="string">&quot;Product Docs&quot;</span>, <span class="number">0.0f</span>, <span class="literal">false</span> ),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Item</span>( <span class="string">&quot;OR-198975&quot;</span>, <span class="string">&quot;O-Ring (100)&quot;</span>, <span class="number">10.0f</span>, <span class="literal">true</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>此时，已配置<code>TableView</code>并添加了测试数据。 但是，如果您要查看该程序，则会看到三个空行。 这是因为JavaFX缺少POJO和TableColumns之间的链接。 使用cellValueFactory将该链接添加到TableColumns。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">colSKU.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;sku&quot;</span>) );</span><br><span class="line">colDescr.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;descr&quot;</span>) );</span><br><span class="line">colPrice.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;price&quot;</span>) );</span><br><span class="line">colTaxable.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;taxable&quot;</span>) );</span><br></pre></td></tr></table></figure>
<p>此时查看程序将在相应的列中显示数据。</p>
<h3 id="Selection"><a href="#Selection" class="headerlink" title="Selection"></a>Selection</h3><p>要检索<code>TableView</code>中的选定项，请使用单独的selectionModel对象。 调用tblItems.getSelectionModel（）返回一个包含属性”selectedItem”的对象。 这可以在一个方法中检索和使用，比如调出一个编辑细节屏幕。 或者，getSelectionModel（）可以返回绑定表达式的JavaFX属性”selectedItemProperty”。<br>在演示应用中，两个参数绑定到<code>TableView</code>的selectionModel。 如果没有绑定，您可以添加侦听器来检查选择并在Button上进行类似setDisabled（）的调用。 在<code>TableView</code>选择之前，您还需要初始化逻辑来处理没有选择的情况。 绑定语法在声明性语句中表达此逻辑，该语句可以在一行中处理侦听器和初始化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span> <span class="variable">btnInventory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Inventory&quot;</span>);</span><br><span class="line"><span class="type">Button</span> <span class="variable">btnCalcTax</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Tax&quot;</span>);</span><br><span class="line"></span><br><span class="line">btnInventory.disableProperty().bind(</span><br><span class="line">    tblItems.getSelectionModel().selectedItemProperty().isNull()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>如果没有选择任何项目，btnInventory禁用属性将为true（islogy（））。 当屏幕首次显示时，不进行任何选择，<code>Button</code>被禁用。 一旦做出任何选择，btnInventory将被启用（disable&#x3D;false）。</p>
<p>btnCalcTax逻辑稍微复杂一些。 btnCalcTax在没有选择时也被禁用。 但是，btnCalcTax也会考虑selectedItem的内容。 复合绑定或（）用于连接这两个条件。 和前面一样，有一个iscurry（）表达式表示没有选择。 Bindings.select（）检查Item.taxable的值。 一个真实的应税项目将启用btnCalcTax，而一个虚假的项目将禁用<code>Button</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">btnCalcTax.disableProperty().bind(</span><br><span class="line">    tblItems.getSelectionModel().selectedItemProperty().isNull().or(</span><br><span class="line">            Bindings.select(</span><br><span class="line">                tblItems.getSelectionModel().selectedItemProperty(),</span><br><span class="line">                <span class="string">&quot;taxable&quot;</span></span><br><span class="line">            ).isEqualTo(<span class="literal">false</span>)</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><code>Bindings.select（）</code>是从对象中提取字段的机制。 selectedItemProperty（）是更改的selectedItem，“taxable”是指向taxable字段的single-hop路径。<br>这个例子展示了如何基于POJO设置<code>TableView</code>。 它还提供了一对功能强大的绑定表达式，允许您链接相关控件，而无需编写额外的侦听器和初始化代码。 <code>TableView</code>是JavaFX业务应用程序开发人员不可或缺的控件。 它将是显示结构化项目列表的最佳和最熟悉的控件。</p>
<h3 id="完整代码-1"><a href="#完整代码-1" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.tableview;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.beans.binding.Bindings;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Button;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.TableColumn;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.TableView;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.cell.PropertyValueFactory;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Priority;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TableSelectApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        TableView&lt;Item&gt; tblItems = <span class="keyword">new</span> <span class="title class_">TableView</span>&lt;&gt;();  </span><br><span class="line">        tblItems.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);  </span><br><span class="line">  </span><br><span class="line">        VBox.setVgrow(tblItems, Priority.ALWAYS );  </span><br><span class="line">  </span><br><span class="line">        TableColumn&lt;Item, String&gt; colSKU = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;SKU&quot;</span>);  </span><br><span class="line">        TableColumn&lt;Item, String&gt; colDescr = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Item&quot;</span>);  </span><br><span class="line">        TableColumn&lt;Item, Float&gt; colPrice = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Price&quot;</span>);  </span><br><span class="line">        TableColumn&lt;Item, Boolean&gt; colTaxable = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Tax&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        colSKU.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;sku&quot;</span>) );  </span><br><span class="line">        colDescr.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;descr&quot;</span>) );  </span><br><span class="line">        colPrice.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;price&quot;</span>) );  </span><br><span class="line">        colTaxable.setCellValueFactory( <span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;taxable&quot;</span>) );  </span><br><span class="line">  </span><br><span class="line">        tblItems.getColumns().addAll(  </span><br><span class="line">            colSKU, colDescr, colPrice, colTaxable  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        tblItems.getItems().addAll(  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Item</span>(<span class="string">&quot;KBD-0455892&quot;</span>, <span class="string">&quot;Mechanical Keyboard&quot;</span>, <span class="number">100.0f</span>, <span class="literal">true</span>),  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Item</span>( <span class="string">&quot;145256&quot;</span>, <span class="string">&quot;Product Docs&quot;</span>, <span class="number">0.0f</span>, <span class="literal">false</span> ),  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Item</span>( <span class="string">&quot;OR-198975&quot;</span>, <span class="string">&quot;O-Ring (100)&quot;</span>, <span class="number">10.0f</span>, <span class="literal">true</span>),  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Item</span>( <span class="string">&quot;S-123456&quot;</span>, <span class="string">&quot;Screwdriver&quot;</span>, <span class="number">5.0f</span>, <span class="literal">true</span>)  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">btnInventory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Inventory&quot;</span>);  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">btnCalcTax</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Tax&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        btnInventory.disableProperty().bind(  </span><br><span class="line">            tblItems.getSelectionModel().selectedItemProperty().isNull()  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        btnCalcTax.disableProperty().bind(  </span><br><span class="line">            tblItems.getSelectionModel().selectedItemProperty().isNull().or(  </span><br><span class="line">                    Bindings.select(  </span><br><span class="line">                        tblItems.getSelectionModel().selectedItemProperty(),  </span><br><span class="line">                        <span class="string">&quot;taxable&quot;</span>  </span><br><span class="line">                    ).isEqualTo(<span class="literal">false</span>)  </span><br><span class="line">            )  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">buttonHBox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>( btnInventory, btnCalcTax );  </span><br><span class="line">        buttonHBox.setSpacing( <span class="number">8</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>( tblItems, buttonHBox );  </span><br><span class="line">        vbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">        vbox.setSpacing( <span class="number">10</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;TableSelectApp&quot;</span>);  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">376</span> );  </span><br><span class="line">        primaryStage.setWidth( <span class="number">667</span> );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430170905.png" alt="20240430170905.png" /></p>
<h2 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView"></a>ImageView</h2><p>JavaFX提供了<code>Image</code>和<code>ImageView</code>类来显示BMP、GIF、JPEG和PNG图形图像。 Image是一个保存图像字节和可选缩放信息的类。 Image对象由后台线程加载，Image类提供与加载操作交互的方法。 Image对象独立于ImageView用于创建光标和应用图标。<br>ImageView是一个JavaFX<code>Node</code>，它包含一个Image对象。 ImageView使图像在整个框架中可用。 ImageView可以单独添加到容器中，也可以与其他UI控件一起添加。 例如，可以通过设置标签的图形属性将图像添加到<code>Label</code>。<br>图像也可以使用JavaFX CSS显示和操作。</p>
<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><p>Image类提供了构造函数，用于从图像文件维度或转换后的对象构建Image对象。 这三个构造函数调用分别创建了用于右上、左下和右下图块的Image对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ImageApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">IMAGE_LOC</span> <span class="operator">=</span> <span class="string">&quot;images/keyboard.jpg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Image</span> <span class="variable">image2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC, <span class="number">360.0d</span>, <span class="number">360.0d</span>, <span class="literal">true</span>, <span class="literal">true</span> );</span><br><span class="line">        <span class="type">Image</span> <span class="variable">image3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC, <span class="number">360.0d</span>, <span class="number">360.0d</span>, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">        <span class="type">Image</span> <span class="variable">image4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC);</span><br></pre></td></tr></table></figure>
<p>传入Image构造函数的所有形式的String URL都是相对于类路径的。 也可以使用绝对URL，例如“<a target="_blank" rel="noopener" href="https://www.bekwam.com/images/bekwam_logo_hdr_rounded.png%E2%80%9C%E3%80%82">https://www.bekwam.com/images/bekwam_logo_hdr_rounded.png“。</a> 请注意，绝对URL不会抛出一个错误，如果他们的资源没有找到。<br>图像2和图像3指定尺寸，形成比原始图像的矩形大的正方形。 image2将保留纵横比（“true”）。 image3的构造函数不保留纵横比，因此会显示为拉伸。</p>
<h3 id="ImageView-1"><a href="#ImageView-1" class="headerlink" title="ImageView"></a>ImageView</h3><p>ImageView是一个Node容器，允许在JavaFX容器和UI控件中使用Image对象。 在左上角的图像中，使用了一个简短的ImageView格式，它只传递图像URL。 它将荣誉原始尺寸，并且不需要额外的Image对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ImageView</span> <span class="variable">iv1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(IMAGE_LOC);</span><br><span class="line"></span><br><span class="line"><span class="type">ImageView</span> <span class="variable">iv2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image2);</span><br><span class="line"><span class="type">ImageView</span> <span class="variable">iv3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image3);</span><br><span class="line"><span class="type">ImageView</span> <span class="variable">iv4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image4);</span><br><span class="line"></span><br><span class="line">iv4.setPreserveRatio(<span class="literal">true</span>);</span><br><span class="line">iv4.setFitHeight(<span class="number">360</span>);</span><br><span class="line">iv4.setFitWidth(<span class="number">360</span>);</span><br><span class="line"><span class="type">Rectangle2D</span> <span class="variable">viewportRect</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle2D</span>(<span class="number">20</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">iv4.setViewport(viewportRect);</span><br></pre></td></tr></table></figure>
<p>IV3和IV3基于图像2和图像3对象。 回想一下，这些对象产生了适合正方形容器的变换图像。<br>此外，调整了iv4的视口。 Viewport控制ImageView的可见部分。 在这种情况下，视口被定义为图像的100x100部分，左移20个像素，上移50个像素。<br>本节演示了Image和ImageView类，它们用于在容器或其他UI控件中显示图像。 这些类定义图像的缩放行为，并可与Rectangle2D Viewport一起使用，以给予额外的图像显示自定义。</p>
<h3 id="完整代码-2"><a href="#完整代码-2" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.imageview;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Rectangle2D;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.image.Image;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.image.ImageView;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.TilePane;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ImageApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">IMAGE_LOC</span> <span class="operator">=</span> <span class="string">&quot;https://img1.baidu.com/it/u=466865769,2215436347&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=660&amp;h=440&quot;</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Image</span> <span class="variable">image2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC, <span class="number">360.0d</span>, <span class="number">360.0d</span>, <span class="literal">true</span>, <span class="literal">true</span> );  </span><br><span class="line">        <span class="type">Image</span> <span class="variable">image3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC, <span class="number">360.0d</span>, <span class="number">360.0d</span>, <span class="literal">false</span>, <span class="literal">true</span>);  </span><br><span class="line">        <span class="type">Image</span> <span class="variable">image4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Image</span>(IMAGE_LOC);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">ImageView</span> <span class="variable">iv1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(IMAGE_LOC);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">ImageView</span> <span class="variable">iv2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image2);  </span><br><span class="line">        <span class="type">ImageView</span> <span class="variable">iv3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image3);  </span><br><span class="line">        <span class="type">ImageView</span> <span class="variable">iv4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ImageView</span>(image4);  </span><br><span class="line">  </span><br><span class="line">        iv4.setPreserveRatio(<span class="literal">true</span>);  </span><br><span class="line">        iv4.setFitHeight(<span class="number">360</span>);  </span><br><span class="line">        iv4.setFitWidth(<span class="number">360</span>);  </span><br><span class="line">        <span class="type">Rectangle2D</span> <span class="variable">viewportRect</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle2D</span>(<span class="number">20</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);  </span><br><span class="line">        iv4.setViewport(viewportRect);  </span><br><span class="line">          </span><br><span class="line">        <span class="type">TilePane</span> <span class="variable">tiles</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TilePane</span>(iv1, iv2, iv3, iv4);  </span><br><span class="line">        tiles.setPrefColumns(<span class="number">2</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(tiles);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle( <span class="string">&quot;ImageApp&quot;</span> );  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430181851.png" alt="20240430181851.png" /></p>
<h2 id="LineChart"><a href="#LineChart" class="headerlink" title="LineChart"></a>LineChart</h2><p>虽然您可以在<code>Line</code>上使用<code>Canvas</code>绘制图形，但JavaFX的<code>LineChart</code>使图形更容易。 除了自定义轴图例等标准图表组件外，LineChart还封装了图形的源数据。 与所有JavaFX控件一样，LineChart允许您使用CSS来设置图形的样式。</p>
<h3 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h3><p>LineChart包含一个用于管理数据的API。 数据点被分组为系列。 这个例子使用了一个系列。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LineChartApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        XYChart.Series&lt;Double, Double&gt; series = <span class="keyword">new</span> <span class="title class_">XYChart</span>.Series&lt;&gt;();</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">0.0</span>,<span class="number">0.0</span>));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">0.7</span>,<span class="number">0.5</span>));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">1.0</span>,<span class="number">0.632</span>));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">2.0</span>,<span class="number">0.865</span>));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">3.0</span>,<span class="number">0.95</span>));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;( <span class="number">4.0</span>, <span class="number">0.982</span> ));</span><br><span class="line">        series.getData().add( <span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;( <span class="number">5.0</span>, <span class="number">0.993</span> ));</span><br></pre></td></tr></table></figure>
<p>每个数据点都是一个被添加到<code>XYChart.Data</code>容器中的<code>XYChart.Series</code>对象。 若要显示不同系列的比较，请创建其他XYChart.Series对象。 这些将由LineChart呈现为不同的颜色。</p>
<h3 id="图表"><a href="#图表" class="headerlink" title="图表"></a>图表</h3><p>LineChart对象是用Axis对象创建的。 第一个Axis参数用于X轴。每个轴对象都包含一个可选标签：时间常数、电压（Vs）。 接下来的两个数值参数给予下限和上限。 最后一个参数设置步长增量。 另一种形式的LineChart构造函数（本示例中未使用）接受数据。 本例对LineChart的数据字段进行了显式的add（）调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LineChart</span> <span class="variable">lc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LineChart</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">NumberAxis</span>(<span class="string">&quot;Time Constant&quot;</span>, <span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">1</span>),</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">NumberAxis</span>(<span class="string">&quot;Voltage (Vs)&quot;</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">lc.getData().add( series );</span><br></pre></td></tr></table></figure>
<p>LineChart可以使用setTitle（）自定义标题，使用setStyle（）自定义单个样式。 为了保持一致性，最好使用样式表，这样就可以在一组折线图中应用单个样式定义。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lc.setTitle(<span class="string">&quot;RC Charging&quot;</span>);</span><br><span class="line">lc.setStyle(<span class="string">&quot;-fx-background-color: lightgray&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>还有许多其他属性可以设置来配置折线图。 setLegendVisible（）删除系列标识符，因为此图中只有一个系列。 setRightSymbols（）删除每个数据点上的图形，这些数据点在图形的原点和端点处被裁剪。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lc.setCreateSymbols(<span class="literal">false</span>);</span><br><span class="line">lc.setLegendVisible(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>对于适度的报告需求，JavaFX提供了像LineChart这样的类来将多个系列的数据点绘制成一个图。 LineChart对象是高度可定制的，可以控制图例、线条和数据点图标。 此外，CSS样式可用于使这些报告的集合保持一致。</p>
<h3 id="完整代码-3"><a href="#完整代码-3" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.linechart;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.chart.LineChart;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.chart.NumberAxis;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.chart.XYChart;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LineChartApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        XYChart.Series&lt;Double, Double&gt; series = <span class="keyword">new</span> <span class="title class_">XYChart</span>.Series&lt;&gt;();  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">0.0</span>,<span class="number">0.0</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">0.7</span>,<span class="number">0.5</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">1.0</span>,<span class="number">0.632</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">2.0</span>,<span class="number">0.865</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">3.0</span>,<span class="number">0.95</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">4.0</span>, <span class="number">0.982</span>));  </span><br><span class="line">        series.getData().add(<span class="keyword">new</span> <span class="title class_">XYChart</span>.Data&lt;&gt;(<span class="number">5.0</span>, <span class="number">0.993</span>));  </span><br><span class="line">  </span><br><span class="line">        <span class="type">LineChart</span> <span class="variable">lc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LineChart</span>(  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">NumberAxis</span>(<span class="string">&quot;Time Constant&quot;</span>, <span class="number">0.0</span>, <span class="number">5.0</span>, <span class="number">1</span>),  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">NumberAxis</span>(<span class="string">&quot;Voltage (Vs)&quot;</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>)  </span><br><span class="line">                );  </span><br><span class="line">  </span><br><span class="line">        lc.getData().add(series);  </span><br><span class="line">  </span><br><span class="line">        lc.setTitle(<span class="string">&quot;RC Charging&quot;</span>);  </span><br><span class="line">        lc.setStyle(<span class="string">&quot;-fx-background-color: lightgray&quot;</span>);  </span><br><span class="line">        lc.setCreateSymbols(<span class="literal">false</span>);  </span><br><span class="line">        lc.setLegendVisible(<span class="literal">false</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>(lc);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;LineChartApp&quot;</span>);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240430182725.png" alt="20240430182725.png" /></p>
<h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><p>分页是一个UI控件，允许您使用下一个、上一个和直接索引按钮逐步浏览结果块。 Pagination类可以在不需要滚动时拆分长列表。 本节介绍了一个特殊的情况下，单一项目的网页，以形成幻灯片。</p>
<h3 id="SlideShow应用程序"><a href="#SlideShow应用程序" class="headerlink" title="SlideShow应用程序"></a>SlideShow应用程序</h3><p>Pagination控件在屏幕底部呈现自定义节点（一个ImageView）和按钮。     对于三个图像中的每一个，都有一个直接访问按钮1、2和3。 还有一对箭头用于移动到下一个和上一个图像。 标签标记图像索引和图像数量，以补充按钮本身的视觉提示。<br>程序首先定义一个包含三个JavaFX图像的数组：imageURLs。 在start（）方法中，创建了一个引用数组大小的Pagination对象。 提供了一个PageFactory，它基于pageIndex参数创建一个Node。 对于本例，pageIndex是imageURLs数组的索引。<br>程序会形成一个Scene并将其添加到primaryStage。</p>
<h3 id="完整代码-4"><a href="#完整代码-4" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.pagination;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Pagination;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.image.Image;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.image.ImageView;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SlideShowApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> Image[] imageURLs = &#123;  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Image</span>(<span class="string">&quot;https://img1.baidu.com/it/u=466865769,2215436347&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=660&amp;h=440&quot;</span>),  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Image</span>(<span class="string">&quot;https://img1.baidu.com/it/u=466865769,2215436347&amp;fm=253&amp;fmt=auto&amp;app=139&amp;f=JPEG?w=660&amp;h=440&quot;</span>),  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Image</span>(<span class="string">&quot;https://img1.baidu.com/it/u=466865769,2215436347&amp;fm=253&amp;fmt=auto&amp;app=1340&amp;f=JPEG?w=660&amp;h=440&quot;</span>)  </span><br><span class="line">    &#125;;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Pagination</span> <span class="variable">pagination</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pagination</span>(imageURLs.length, <span class="number">0</span>);  </span><br><span class="line">        pagination.setPageFactory(  </span><br><span class="line">            pageIndex -&gt; <span class="keyword">new</span> <span class="title class_">ImageView</span>(imageURLs[pageIndex])  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>( pagination );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Pagination类是一个简单的控件，用于遍历一长串项。 这个例子使用了每页一个项目来形成一个幻灯片。 在这两种情况下，这是滚动的替代方法，并且在您希望UI固定在位置时很有用。</p>
<h1 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h1><h2 id="VBox和HBox"><a href="#VBox和HBox" class="headerlink" title="VBox和HBox"></a>VBox和HBox</h2><p>JavaFX中的布局从选择正确的容器控件开始。 我最常用的两个布局控件是<code>VBox</code>和<code>HBox</code>。 <code>VBox</code>是一个容器，它将其子容器排列在垂直堆栈中。 <code>HBox</code>将其子元素排列在水平行中。 这两个控件的强大之处在于包装它们并设置几个关键属性：alignment、hgrow和vgrow。<br>本文将通过一个示例项目演示这些控件。 项目的模型显示了一个UI，其中包含以下内容： </p>
<ul>
<li>一行顶部控件，包含刷新Button和注销Hyperlink</li>
<li><code>TableView</code>将增长以占用额外的垂直空间</li>
<li>关闭按钮<br>UI还具有<code>Separator</code>，其将屏幕的顶部与可能成为应用程序的标准下部面板（保存<code>Button</code>、取消<code>Button</code>等）分开。</li>
</ul>
<h3 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h3><p><code>VBox</code>是最外面的容器“vbox”。 这将是提供给场景的<code>Parent</code>。 简单地将UI控件放在这个<code>VBox</code>中将允许控件-最值得注意的是<code>TableView</code>-拉伸以适应可用的水平空间。     最上面的控件，刷新<code>Button</code>和注销<code>Hyperlink</code>，被包装在<code>HBox</code>中。 类似地，我将底部Close <code>Button</code>包装在<code>HBox</code>中，以允许额外的重复。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Button</span> <span class="variable">btnRefresh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Refresh&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">HBox</span> <span class="variable">topRightControls</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();</span><br><span class="line">topRightControls.getChildren().add( signOutLink );</span><br><span class="line"></span><br><span class="line">topControls.getChildren().addAll( btnRefresh, topRightControls );</span><br><span class="line"></span><br><span class="line">TableView&lt;Customer&gt; tblCustomers = <span class="keyword">new</span> <span class="title class_">TableView</span>&lt;&gt;();</span><br><span class="line"><span class="type">Separator</span> <span class="variable">sep</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Separator</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">HBox</span> <span class="variable">bottomControls</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Button</span> <span class="variable">btnClose</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Close&quot;</span>);</span><br><span class="line"></span><br><span class="line">bottomControls.getChildren().add( btnClose );</span><br><span class="line"></span><br><span class="line">vbox.getChildren().addAll(</span><br><span class="line">        topControls,</span><br><span class="line">        tblCustomers,</span><br><span class="line">        sep,</span><br><span class="line">        bottomControls</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="Alignment-和-Hgrow"><a href="#Alignment-和-Hgrow" class="headerlink" title="Alignment 和 Hgrow"></a>Alignment 和 Hgrow</h3><p>刷新<code>Button</code>向左对齐，而注销<code>Hyperlink</code>向右对齐。 这是使用两个HBox完成的。 topControls是一个包含Refresh <code>HBox</code>的<code>Button</code>，还包含一个带有Sign Out <code>HBox</code>的<code>Hyperlink</code>。 随着屏幕变宽，退出<code>Hyperlink</code>将被拉到右侧，而刷新<code>Button</code>将保持其左对齐。<br>对齐是告知容器将控件定位在何处的属性。 topControls将对齐设置为BOTTOM_LEFT。 topRightControls将对齐设置为BOTTOM_RIGHT。 “BOTTOM”确保文本“Refresh”的基线与文本“Sign Out”的基线匹配。<br>为了使退出<code>Hyperlink</code>在屏幕变宽时向右移动，需要<code>Priority.ALWAYS</code>。 这是一个提示JavaFX扩大topRightControls。 否则，topControls将保留空间，topRightControls将显示在左侧。 注销<code>Hyperlink</code>仍然是右对齐的，但在一个更窄的容器中。<br>请注意，<code>setHgrow()</code>是一个静态方法，既不在topControls <code>HBox</code>上调用，也不在其自身topRightControls上调用。 这是JavaFX API的一个方面，可能会引起混淆，因为大多数API都是通过对象上的setter来设置属性的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">topControls.setAlignment( Pos.BOTTOM_LEFT );</span><br><span class="line"></span><br><span class="line">HBox.setHgrow(topRightControls, Priority.ALWAYS );</span><br><span class="line">topRightControls.setAlignment( Pos.BOTTOM_RIGHT );</span><br></pre></td></tr></table></figure>
<p>关闭按钮被包装在HBox中，并使用BOTTOM_RIGHT优先级定位。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bottomControls.setAlignment(Pos.BOTTOM_RIGHT );</span><br></pre></td></tr></table></figure>
<h3 id="Vgrow"><a href="#Vgrow" class="headerlink" title="Vgrow"></a>Vgrow</h3><p>由于最外面的容器是<code>VBox</code>，所以当窗口变宽时，子容器<code>TableView</code>将扩展以占用额外的水平空间。 但是，垂直移动窗口将在屏幕底部产生间隙。 <code>VBox</code>不会自动调整其任何子项的大小。 与topRightControls<code>HBox</code>一样，可以设置增长指示器。 在<code>HBox</code>的情况下，这是一个水平方向的递归指令setHgrow（）。 对于<code>TableView</code>容器<code>VBox</code>，这将是setVgrow（）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBox.setVgrow( tblCustomers, Priority.ALWAYS );</span><br></pre></td></tr></table></figure>
<h3 id="Margin"><a href="#Margin" class="headerlink" title="Margin"></a>Margin</h3><p>有几种方法可以分隔UI控件。 本文在几个容器上使用margin属性在控件周围添加空白。 这些是单独设置的，而不是在<code>VBox</code>上使用间距，以便分隔符将跨越整个宽度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VBox.setMargin( topControls, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10.0d</span>) );</span><br><span class="line">VBox.setMargin( tblCustomers, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">0.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>) );</span><br><span class="line">VBox.setMargin( bottomControls, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10.0d</span>) );</span><br></pre></td></tr></table></figure>
<p>tblCustomers使用的<code>Insets</code>省略了任何顶部间距，以保持间距均匀。 JavaFX不像网页设计中那样合并空白。 如果将<code>TableView</code>的顶部Inset设置为10.0d，则顶部控件和<code>TableView</code>之间的距离将是任何其他控件之间距离的两倍。<br>请注意，这些都是静态方法，如<code>Priority</code>。</p>
<h3 id="选择合适的容器"><a href="#选择合适的容器" class="headerlink" title="选择合适的容器"></a>选择合适的容器</h3><p>JavaFX布局的哲学与Swing的哲学相同。 为手头的任务选择合适的容器。 本文介绍了两个最通用的容器：<code>VBox</code>和<code>HBox</code>。 通过设置alignment、hgrow和vgrow等属性，您可以通过嵌套构建极其复杂的布局。 这些是我使用最多的容器，而且通常是我唯一需要的容器。</p>
<h3 id="完整代码-5"><a href="#完整代码-5" class="headerlink" title="完整代码"></a>完整代码</h3><p><code>Customer.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> String firstName;  </span><br><span class="line">    <span class="keyword">private</span> String lastName;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(String firstName,  </span></span><br><span class="line"><span class="params">                    String lastName)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;  </span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFirstName</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> firstName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFirstName</span><span class="params">(String firstName)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getLastName</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> lastName;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLastName</span><span class="params">(String lastName)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>VBoxAndHBoxApp.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Pos;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.cell.PropertyValueFactory;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Priority;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VBoxAndHBoxApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">topControls</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();  </span><br><span class="line">        VBox.setMargin( topControls, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10.0d</span>) );  </span><br><span class="line">        topControls.setAlignment( Pos.BOTTOM_LEFT );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">btnRefresh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;刷新&quot;</span>);  </span><br><span class="line">        btnRefresh.setOnAction( e -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;点击刷新&quot;</span>);  </span><br><span class="line">        &#125;);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">topRightControls</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();  </span><br><span class="line">        HBox.setHgrow(topRightControls, Priority.ALWAYS );  </span><br><span class="line">        topRightControls.setAlignment( Pos.BOTTOM_RIGHT );  </span><br><span class="line">        <span class="type">Hyperlink</span> <span class="variable">signOutLink</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hyperlink</span>(<span class="string">&quot;退出&quot;</span>);  </span><br><span class="line">        signOutLink.setOnAction( e -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;点击退出&quot;</span>);  </span><br><span class="line">        &#125;);  </span><br><span class="line">        topRightControls.getChildren().add( signOutLink );  </span><br><span class="line">  </span><br><span class="line">        topControls.getChildren().addAll( btnRefresh, topRightControls );  </span><br><span class="line">  </span><br><span class="line">        TableView&lt;Customer&gt; tblCustomers = <span class="keyword">new</span> <span class="title class_">TableView</span>&lt;&gt;();  </span><br><span class="line">        tblCustomers.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);  </span><br><span class="line">        VBox.setMargin( tblCustomers, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">0.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>) );  </span><br><span class="line">        <span class="comment">// setVgrow可以自动调整Vbox子项的大小,防止大小变动时出现空隙  </span></span><br><span class="line">        VBox.setVgrow( tblCustomers, Priority.ALWAYS );  </span><br><span class="line">  </span><br><span class="line">        TableColumn&lt;Customer, String&gt; lastNameCol = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;Last Name&quot;</span>);  </span><br><span class="line">        lastNameCol.setCellValueFactory(<span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;lastName&quot;</span>));  </span><br><span class="line">  </span><br><span class="line">        TableColumn&lt;Customer, String&gt; firstNameCol = <span class="keyword">new</span> <span class="title class_">TableColumn</span>&lt;&gt;(<span class="string">&quot;First Name&quot;</span>);  </span><br><span class="line">        firstNameCol.setCellValueFactory(<span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;&gt;(<span class="string">&quot;firstName&quot;</span>));  </span><br><span class="line">  </span><br><span class="line">        tblCustomers.getColumns().addAll( lastNameCol, firstNameCol );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Separator</span> <span class="variable">sep</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Separator</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">bottomControls</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();  </span><br><span class="line">        bottomControls.setAlignment(Pos.BOTTOM_RIGHT );  </span><br><span class="line">        VBox.setMargin( bottomControls, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10.0d</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">btnClose</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;关闭&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        btnClose.setOnAction( e -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;点击关闭&quot;</span>);  </span><br><span class="line">            System.exit(<span class="number">0</span>);  </span><br><span class="line">        &#125;);  </span><br><span class="line">        bottomControls.getChildren().add( btnClose );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">btnAdd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;添加&quot;</span>);  </span><br><span class="line">        btnAdd.setOnAction( e -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;点击添加&quot;</span>);  </span><br><span class="line">            loadTable(tblCustomers);  </span><br><span class="line">        &#125;);  </span><br><span class="line">        bottomControls.getChildren().add( btnAdd );  </span><br><span class="line">  </span><br><span class="line">        vbox.getChildren().addAll(  </span><br><span class="line">                topControls,  </span><br><span class="line">                tblCustomers,  </span><br><span class="line">                sep,  </span><br><span class="line">                bottomControls  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox );  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.setWidth( <span class="number">800</span> );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">600</span> );  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;VBox and HBox App&quot;</span>);  </span><br><span class="line">        primaryStage.setOnShown( (evt) -&gt; loadTable(tblCustomers) );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadTable</span><span class="params">(TableView&lt;Customer&gt; tblCustomers)</span> &#123;  </span><br><span class="line">        tblCustomers.getItems().add(<span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;George&quot;</span>, <span class="string">&quot;Washington&quot;</span>));  </span><br><span class="line">        tblCustomers.getItems().add(<span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;Abe&quot;</span>, <span class="string">&quot;Lincoln&quot;</span>));  </span><br><span class="line">        tblCustomers.getItems().add(<span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;Thomas&quot;</span>, <span class="string">&quot;Jefferson&quot;</span>));  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501093804.png" alt="20240501093804.png" /></p>
<h2 id="StackPane"><a href="#StackPane" class="headerlink" title="StackPane"></a>StackPane</h2><p><code>StackPane</code>将它的子项的一个放在另一个上面。最后添加的<code>Node</code>是最高的。默认情况下，<code>StackPane</code>将使用<code>Pos.CENTER</code>对齐子项，如下图所示，其中3个子项（按添加顺序）为：<code>Rectangle</code>、<code>Circle</code>和<code>Button</code>。<br>我们可以通过添加<code>pane.setAlignment(Pos.CENTER_LEFT);</code>来更改默认对齐方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Button;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.StackPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Circle;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Rectangle;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackPaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage stage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">hello_button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Hello StackPane&quot;</span>);  </span><br><span class="line">        hello_button.setOnAction(e -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;Hello&quot;</span>);  </span><br><span class="line">        &#125;);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">StackPane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StackPane</span>(  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="number">200</span>, <span class="number">100</span>, Color.BLACK),  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">40</span>, Color.RED),  </span><br><span class="line">                hello_button  </span><br><span class="line">        );  </span><br><span class="line">  </span><br><span class="line">        stage.setScene(<span class="keyword">new</span> <span class="title class_">Scene</span>(pane, <span class="number">300</span>, <span class="number">300</span>));  </span><br><span class="line">        stage.show();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501094609.png" alt="20240501094609.png" /></p>
<h2 id="绝对定位（带Pane）"><a href="#绝对定位（带Pane）" class="headerlink" title="绝对定位（带Pane）"></a>绝对定位（带Pane）</h2><p>像<code>VBox</code>或<code>BorderPane</code>这样的容器对齐并分发它们的子节点。 超类<code>Pane</code>也是一个容器，但不对其子类强加顺序。 子元素通过x、centerX和layoutX等属性定位自己。 这被称为绝对定位，它是一种将<code>Shape</code>或<code>Node</code>放置在屏幕上某个位置的技术。</p>
<h3 id="Pane尺寸"><a href="#Pane尺寸" class="headerlink" title="Pane尺寸"></a>Pane尺寸</h3><p>与大多数容器不同，<code>Pane</code>会调整大小以适应其内容，而不是相反。 这张图片是在添加右下角弧之前从风景视图中截取的屏幕截图。 <code>Pane</code>是黄色突出显示的区域。 请注意，它并没有占用整个<code>Stage</code>。<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501105020.png" alt="20240501105020.png" /><br>这是添加右下角<code>Arc</code>后的屏幕截图。 这个<code>Arc</code>被放置在更靠近<code>Stage</code>右下边缘的位置。 这会迫使扩展器拉伸以容纳扩展的内容。<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501105128.png" alt="20240501105128.png" /></p>
<h3 id="The-Pane"><a href="#The-Pane" class="headerlink" title="The Pane"></a>The Pane</h3><p>About View的最外层容器是<code>VBox</code>，其唯一内容是<code>Pane</code>。 <code>VBox</code>用于适应整个<code>Stage</code>并提供背景。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line">vbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>( <span class="number">10</span> ) );</span><br><span class="line">vbox.setBackground(</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Background</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">BackgroundFill</span>(Color.BLACK, <span class="keyword">new</span> <span class="title class_">CornerRadii</span>(<span class="number">0</span>), <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">0</span>))</span><br><span class="line">        ));</span><br><span class="line"></span><br><span class="line"><span class="type">Pane</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>();</span><br></pre></td></tr></table></figure>
<h3 id="形状"><a href="#形状" class="headerlink" title="形状"></a>形状</h3><p>在屏幕的左上角，有一组4个“弧”和1个“圆”。 这段代码通过<code>Arc</code>构造函数中的centerX和centerY参数将largeArc定位在（0，0）。 请注意，backgroundArc也位于（0，0）处，并出现在largeArc下面。 <code>Pane</code>并不试图消除重叠形状的冲突，在这种情况下，重叠是想要的。 smArc1位于（0，160），在Y轴上向下。 smArc2位于（160，0）处，正好在X轴上。 smCircle与smArc1和smArc2的距离相同，但角度为45度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Arc</span> <span class="variable">largeArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">270</span>, <span class="number">90</span>);</span><br><span class="line">largeArc.setType(ArcType.ROUND);</span><br><span class="line"></span><br><span class="line"><span class="type">Arc</span> <span class="variable">backgroundArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">160</span>, <span class="number">160</span>, <span class="number">270</span>, <span class="number">90</span> );</span><br><span class="line">backgroundArc.setType( ArcType.ROUND );</span><br><span class="line"></span><br><span class="line"><span class="type">Arc</span> <span class="variable">smArc1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>( <span class="number">0</span>, <span class="number">160</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">270</span>, <span class="number">180</span>);</span><br><span class="line">smArc1.setType(ArcType.ROUND);</span><br><span class="line"></span><br><span class="line"><span class="type">Circle</span> <span class="variable">smCircle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">160</span>/Math.sqrt(<span class="number">2.0</span>), <span class="number">160</span>/Math.sqrt(<span class="number">2.0</span>), <span class="number">30</span>,Color.web(<span class="string">&quot;0xF2A444&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">Arc</span> <span class="variable">smArc2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>( <span class="number">160</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">180</span>, <span class="number">180</span>);</span><br><span class="line">smArc2.setType(ArcType.ROUND);</span><br></pre></td></tr></table></figure>
<p>右下角的<code>Arc</code>基于<code>Stage</code>的整体高度定位。 从高度减去20是从<code>Insets</code>减去10个像素<code>VBox</code>（左10+右10）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Arc</span> <span class="variable">medArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">568</span>-<span class="number">20</span>, <span class="number">320</span>-<span class="number">20</span>, <span class="number">60</span>, <span class="number">60</span>, <span class="number">90</span>, <span class="number">90</span>);</span><br><span class="line">medArc.setType(ArcType.ROUND);</span><br><span class="line"></span><br><span class="line">primaryStage.setWidth( <span class="number">568</span> );</span><br><span class="line">primaryStage.setHeight( <span class="number">320</span> );</span><br></pre></td></tr></table></figure>
<h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><p><code>Hyperlink</code>定位成偏离中心（284，160），该中心是<code>Stage</code>的宽度和高度两者除以2。 这会将<code>Hyperlink</code>的文本定位在屏幕的右下象限，因此需要基于<code>Hyperlink</code>的宽度和高度的偏移量。 在显示屏幕之前，尺寸不适用于<code>Hyperlink</code>，因此我对位置进行了显示后调整。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hyperlink</span> <span class="variable">hyperlink</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hyperlink</span>(<span class="string">&quot;About this App&quot;</span>);</span><br><span class="line"></span><br><span class="line">primaryStage.setOnShown( (evt) -&gt; &#123;</span><br><span class="line">     hyperlink.setLayoutX( <span class="number">284</span> - (hyperlink.getWidth()/<span class="number">3</span>) );</span><br><span class="line">     hyperlink.setLayoutY( <span class="number">160</span> - hyperlink.getHeight() );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>Hyperlink</code>没有放在屏幕的真正中心。 layoutX值基于将其从左上方设计移开的除以三操作。</p>
<h3 id="Z-Order"><a href="#Z-Order" class="headerlink" title="Z-Order"></a>Z-Order</h3><p>如前所述，<code>Pane</code>支持重叠的子节点。 此图片显示了在左上角设计中添加了深度的About View。 较小的<code>Arcs</code>和<code>Circle</code>像largeArc一样悬停在backgroundArc上。<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501105939.png" alt="20240501105939.png" /><br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501105919.png" alt="20240501105919.png" /><br>本例中的z顺序由子节点添加到<code>Pane</code>的顺序确定。 backgroundArc被后来添加的项目所掩盖，最明显的是largeArc。 要重新排列子元素，请在将项添加到<code>Pane</code>之后使用toFront（）和toBack（）方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p.getChildren().addAll( backgroundArc, largeArc, smArc1, smCircle, smArc2, hyperlink, medArc );</span><br><span class="line"></span><br><span class="line">vbox.getChildren().add( p );</span><br></pre></td></tr></table></figure>
<p>在启动JavaFX时，构建一个绝对布局是很有诱惑力的。 请注意，绝对布局是脆弱的，经常在调整屏幕大小或在软件维护阶段添加项目时中断。 然而，有充分的理由使用绝对定位。 游戏就是这样一种用法。 在游戏中，您可以调整“Shape”的（x，y）坐标来在屏幕上移动游戏棋子。 本文演示了JavaFX类<code>Pane</code>，它为任何形状驱动的UI提供绝对定位。</p>
<h3 id="完整代码-6"><a href="#完整代码-6" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Hyperlink;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Arc;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.ArcType;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Circle;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.text.Font;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> org.scenicview.ScenicView;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">        vbox.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>( <span class="number">10</span> ) );  </span><br><span class="line">        vbox.setBackground(  </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Background</span>(  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BackgroundFill</span>(Color.BLACK, <span class="keyword">new</span> <span class="title class_">CornerRadii</span>(<span class="number">0</span>), <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">0</span>))  </span><br><span class="line">                ));  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Pane</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>();  </span><br><span class="line"><span class="comment">//        VBox.setMargin(p, new Insets(0.0d, 10.0d, 10.0d, 10.0d));  </span></span><br><span class="line">  </span><br><span class="line">        <span class="type">Arc</span> <span class="variable">largeArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">270</span>, <span class="number">90</span>);  </span><br><span class="line">        largeArc.setFill(Color.web(<span class="string">&quot;0x59291E&quot;</span>));  </span><br><span class="line">        largeArc.setType(ArcType.ROUND);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Arc</span> <span class="variable">backgroundArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">160</span>, <span class="number">160</span>, <span class="number">270</span>, <span class="number">90</span> );  </span><br><span class="line">        backgroundArc.setFill( Color.web(<span class="string">&quot;0xD96F32&quot;</span>) );  </span><br><span class="line">        backgroundArc.setType( ArcType.ROUND );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Arc</span> <span class="variable">smArc1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>( <span class="number">0</span>, <span class="number">160</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">270</span>, <span class="number">180</span>);  </span><br><span class="line">        smArc1.setFill(Color.web(<span class="string">&quot;0xF2A444&quot;</span>));  </span><br><span class="line">        smArc1.setType(ArcType.ROUND);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Circle</span> <span class="variable">smCircle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(  </span><br><span class="line">            <span class="number">160</span>/Math.sqrt(<span class="number">2.0</span>), <span class="number">160</span>/Math.sqrt(<span class="number">2.0</span>), <span class="number">30</span>,Color.web(<span class="string">&quot;0xF2A444&quot;</span>)  </span><br><span class="line">            );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Arc</span> <span class="variable">smArc2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>( <span class="number">160</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">180</span>, <span class="number">180</span>);  </span><br><span class="line">        smArc2.setFill(Color.web(<span class="string">&quot;0xF2A444&quot;</span>));  </span><br><span class="line">        smArc2.setType(ArcType.ROUND);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Hyperlink</span> <span class="variable">hyperlink</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hyperlink</span>(<span class="string">&quot;About this App&quot;</span>);  </span><br><span class="line">        hyperlink.setOnAction((evt) -&gt; &#123;  </span><br><span class="line">            System.out.println(<span class="string">&quot;Link&quot;</span>);  </span><br><span class="line">        &#125;);  </span><br><span class="line">        hyperlink.setFont( Font.font(<span class="number">36</span>) );  </span><br><span class="line">        hyperlink.setTextFill( Color.web(<span class="string">&quot;0x3E6C93&quot;</span>) );  </span><br><span class="line">        hyperlink.setBorder( Border.EMPTY );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Arc</span> <span class="variable">medArc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Arc</span>(<span class="number">568</span>-<span class="number">35</span>, <span class="number">320</span>-<span class="number">58</span>, <span class="number">60</span>, <span class="number">60</span>, <span class="number">90</span>, <span class="number">90</span>);  </span><br><span class="line">        medArc.setFill(Color.web(<span class="string">&quot;0xD9583B&quot;</span>));  </span><br><span class="line">        medArc.setType(ArcType.ROUND);  </span><br><span class="line">  </span><br><span class="line">        p.getChildren().addAll( backgroundArc, largeArc, smArc1, smCircle,  </span><br><span class="line">            smArc2, hyperlink, medArc );  </span><br><span class="line">  </span><br><span class="line">        vbox.getChildren().add( p );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">        scene.setFill(Color.BLACK);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Pane App&quot;</span>);  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.setWidth( <span class="number">568</span> );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">320</span> );  </span><br><span class="line">        primaryStage.setOnShown( (evt) -&gt; &#123;  </span><br><span class="line">             hyperlink.setLayoutX( <span class="number">284</span> - (hyperlink.getWidth()/<span class="number">3</span>) );  </span><br><span class="line">             hyperlink.setLayoutY( <span class="number">160</span> - hyperlink.getHeight() );  </span><br><span class="line">        &#125;);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">        ScenicView.show(scene);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Clipping"><a href="#Clipping" class="headerlink" title="Clipping"></a>Clipping</h2><p>大多数JavaFX布局容器（基类<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html">Region</a>）会自动定位和调整其子容器的大小，因此裁剪任何可能超出容器布局边界的子内容都不会成为问题。一个大的例外是<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Pane.html">Rolling</a>，它是<code>Region</code>的直接子类，也是所有具有可公开访问的子元素的布局容器的基类。与它的子类不同的是，它不尝试排列它的子类，而只是接受显式的用户定位和大小调整。<br>这使得<code>Pane</code>适合作为绘图表面，类似于<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/canvas/Canvas.html">Canvas</a>，但呈现用户定义的<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/shape/Shape.html">Shape</a>子对象，而不是直接绘制命令。问题是，通常期望绘图表面自动在其边界处剪裁其内容。<code>Canvas</code>默认情况下会这样做，但<code>Pane</code>不会。从Javadoc条目<code>Pane</code>的最后一段：</p>
<blockquote>
<p>默认情况下，窗格不会裁剪其内容，因此子对象的边界可能会超出其自身的边界，无论是子对象位于负坐标还是窗格的大小调整为小于其首选大小。</p>
</blockquote>
<p>这句话有点误导。无论子对象的位置和大小的组合是否超出父对象的边界，都将在父对象<code>Pane</code>之外呈现（全部或部分），而不管位置是否为负或<code>Pane</code>是否调整过大小。很简单，<code>Pane</code>只提供了一个坐标移动到它的子项，基于它的左上角-但它的布局边界是完全忽略，而呈现子项。请注意，所有<code>Pane</code>子类的Javadoc（我检查过）都包含类似的警告。他们也不剪辑他们的内容，但如上所述，这通常不是一个问题，因为他们自动安排他们的子项。<br>因此，要正确使用<code>Pane</code>作为<code>Shapes</code>的绘图表面，我们需要手动剪切其内容。这有点复杂，特别是当涉及可见边界时。我写了一个小的演示应用程序来说明默认行为和修复它的各种步骤。你可以下载它作为<a target="_blank" rel="noopener" href="http://kynosarges.org/misc/PaneDemo.zip">PaneDemo.zip</a>，其中包含NetBeans 8.2和Java SE 8u112的项目。以下各节通过屏幕截图和相关代码片段解释了每个步骤。</p>
<h3 id="默认行为"><a href="#默认行为" class="headerlink" title="默认行为"></a>默认行为</h3><p>启动时，PaneDemo显示了当您将<code>Ellipse</code>形状放入太小而无法完全包含它的<code>Pane</code>形状时会发生什么。<code>Pane</code>有一个很好的厚圆形<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Border.html">边界</a>，以可视化其区域。应用程序窗口是可调整大小的，<code>Pane</code>大小跟随窗口大小。左侧的三个按钮用于切换到演示中的其他步骤;单击Default（Alt+D）可从后面的步骤恢复到默认输出。<br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501143803.png" alt="20240501143803.png" /><br><img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501143931.png" alt="20240501143931.png" /><br>正如你所看到的，<code>Ellipse</code>覆盖了它的父视图<code>Border</code>，并突出了它。下面的代码用于生成默认视图。它被分成几个较小的方法，以及一个用于<code>Border</code>拐角半径的常量，因为它们将在接下来的步骤中被引用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">BORDER_RADIUS</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> Border <span class="title function_">createBorder</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Border</span>(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">BorderStroke</span>(Color.BLACK, BorderStrokeStyle.SOLID,</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">CornerRadii</span>(BORDER_RADIUS), BorderStroke.THICK));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> Shape <span class="title function_">createShape</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">Ellipse</span> <span class="variable">shape</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ellipse</span>(<span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">    shape.setCenterX(<span class="number">80</span>);</span><br><span class="line">    shape.setCenterY(<span class="number">80</span>);</span><br><span class="line">    shape.setFill(Color.LIGHTCORAL);</span><br><span class="line">    shape.setStroke(Color.LIGHTCORAL);</span><br><span class="line">    <span class="keyword">return</span> shape;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> Region <span class="title function_">createDefault</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(createShape());</span><br><span class="line">    pane.setBorder(createBorder());</span><br><span class="line">    pane.setPrefSize(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> pane;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="简单剪裁"><a href="#简单剪裁" class="headerlink" title="简单剪裁"></a>简单剪裁</h3><p>令人惊讶的是，没有预定义的选项可以让可调整大小的<code>Region</code>自动将其子项剪切到当前大小。相反，您需要使用在<code>Node</code>上定义的基本<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#clipProperty">clipProperty</a>，并手动更新它以反映不断变化的布局边界。下面的方法<code>clipChildren</code>展示了这是如何工作的（使用Javadoc，因为你可能想在自己的代码中重用它）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">clipChildren</span><span class="params">(Region region, <span class="type">double</span> arc)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="type">Rectangle</span> <span class="variable">outputClip</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line">    outputClip.setArcWidth(arc);</span><br><span class="line">    outputClip.setArcHeight(arc);</span><br><span class="line">    region.setClip(outputClip);</span><br><span class="line"></span><br><span class="line">    region.layoutBoundsProperty().addListener((ov, oldValue, newValue) -&gt; &#123;</span><br><span class="line">        outputClip.setWidth(newValue.getWidth());</span><br><span class="line">        outputClip.setHeight(newValue.getHeight());</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> Region <span class="title function_">createClipped</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(createShape());</span><br><span class="line">    pane.setBorder(createBorder());</span><br><span class="line">    pane.setPrefSize(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// clipped children still overwrite Border!</span></span><br><span class="line">    clipChildren(pane, <span class="number">3</span> * BORDER_RADIUS);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pane;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501144120.png" alt="20240501144120.png" />
这样好多了`Ellipse`不再突出于`Pane` -但仍然覆盖其边界。还要注意的是，我们必须手动指定裁剪`Rectangle`的估计角圆化，以反映圆化的`Border`角。这个估计值是3 * BORDER_RADIUS，因为在`Border`上指定的拐角半径实际上定义了它的内径，而外径（我们在这里需要的）将根据`Border`厚度而更大。(You如果你真的想的话，你可以精确地计算外半径，但我在演示应用程序中跳过了这一点。）
### 嵌套窗格
我们能以某种方式指定一个剪切区域，排除一个可见的'边界'？据我所知。剪切区域会影响`Pane`以及其他内容，因此如果您要缩小剪切区域以排除它，您将不再看到任何`Border`。相反，解决方案是创建两个嵌套窗格：一个内部图形`Border`，不带`Pane`，精确地剪裁到其边界，一个外部图形`Border`，定义可见的`StackPane`，并调整图形`Border`的大小。下面是最终代码：
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> Region <span class="title function_">createNested</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// create drawing Pane without Border or size</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(createShape());</span><br><span class="line">    clipChildren(pane, BORDER_RADIUS);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// create sized enclosing Region with Border</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">Region</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StackPane</span>(pane);</span><br><span class="line">    container.setBorder(createBorder());</span><br><span class="line">    container.setPrefSize(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> container;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501145950.png" alt="20240501145950.png" />
作为一个额外的奖励，我们不再需要猜测剪裁`Rectangle`的正确角半径。我们现在剪裁到可见`Border`的内圆周而不是外圆周，因此我们可以直接重用其内角半径。如果您指定多个不同的圆角半径或更复杂的`Border`，则必须定义相应的更复杂的剪裁`Shape`。
有一个小小的警告。所有子坐标都相对的图形`Pane`的左上角现在开始于可见`Border`内。如果您将一个带有可见`Pane`的`Border`追溯更改为嵌套窗格，如下图所示，所有子窗格将显示与`Border`厚度对应的轻微位置偏移。
### 完整代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Ellipse;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Rectangle;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Shape;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> org.scenicview.ScenicView;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClippingApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">BORDER_RADIUS</span> <span class="operator">=</span> <span class="number">4</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> Border <span class="title function_">createBorder</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Border</span>(  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BorderStroke</span>(Color.BLACK, BorderStrokeStyle.SOLID,  </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">CornerRadii</span>(BORDER_RADIUS), BorderStroke.THICK));  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> Shape <span class="title function_">createShape</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">final</span> <span class="type">Ellipse</span> <span class="variable">shape</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ellipse</span>(<span class="number">50</span>, <span class="number">50</span>);  </span><br><span class="line">        shape.setCenterX(<span class="number">80</span>);  </span><br><span class="line">        shape.setCenterY(<span class="number">80</span>);  </span><br><span class="line">        shape.setFill(Color.LIGHTCORAL);  </span><br><span class="line">        shape.setStroke(Color.LIGHTCORAL);  </span><br><span class="line">        <span class="keyword">return</span> shape;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>();  </span><br><span class="line">        <span class="comment">// 未裁剪  </span></span><br><span class="line">        <span class="type">Region</span> <span class="variable">region</span> <span class="operator">=</span> createDefault();  </span><br><span class="line">        <span class="comment">// 裁剪  </span></span><br><span class="line">        <span class="type">Region</span> <span class="variable">region1</span> <span class="operator">=</span> createClipped();  </span><br><span class="line">  </span><br><span class="line">        VBox.setMargin(pane, <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>, <span class="number">10.0d</span>));  </span><br><span class="line">  </span><br><span class="line"><span class="comment">//        pane.getChildren().addAll(region);  </span></span><br><span class="line">        pane.getChildren().addAll(region1);  </span><br><span class="line">        vbox.getChildren().addAll(pane);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Clipping&quot;</span>);  </span><br><span class="line">        primaryStage.setWidth(<span class="number">200</span>);  </span><br><span class="line">        primaryStage.setHeight(<span class="number">200</span>);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">        ScenicView.show(scene);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> Region <span class="title function_">createDefault</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">final</span> <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(createShape());  </span><br><span class="line">        pane.setBorder(createBorder());  </span><br><span class="line">        pane.setPrefSize(<span class="number">100</span>, <span class="number">100</span>);  </span><br><span class="line">        <span class="keyword">return</span> pane;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">clipChildren</span><span class="params">(Region region, <span class="type">double</span> arc)</span> &#123;  </span><br><span class="line">        <span class="keyword">final</span> <span class="type">Rectangle</span> <span class="variable">outputClip</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Rectangle</span>();  </span><br><span class="line">        outputClip.setArcWidth(arc);  </span><br><span class="line">        outputClip.setArcHeight(arc);  </span><br><span class="line">        region.setClip(outputClip);  </span><br><span class="line">  </span><br><span class="line">        region.layoutBoundsProperty().addListener((ov, oldValue, newValue) -&gt; &#123;  </span><br><span class="line">            outputClip.setWidth(newValue.getWidth());  </span><br><span class="line">            outputClip.setHeight(newValue.getHeight());  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">static</span> Region <span class="title function_">createClipped</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">final</span> <span class="type">Pane</span> <span class="variable">pane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pane</span>(createShape());  </span><br><span class="line">        pane.setBorder(createBorder());  </span><br><span class="line">        pane.setPrefSize(<span class="number">100</span>, <span class="number">100</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// clipped children still overwrite Border!  </span></span><br><span class="line">        clipChildren(pane, <span class="number">3</span> * BORDER_RADIUS);  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> pane;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
## GridPane
业务应用程序中的窗体通常使用模仿数据库记录的布局。 对于表中的每一列，在左侧添加一个标题，该标题与右侧的行值相匹配。JavaFX有一个名为`GridPane`的特殊用途控件，用于这种类型的布局，使内容按行和列对齐。 `GridPane`还支持跨越更复杂的布局。
这个屏幕截图显示了一个基本的`GridPane`布局。 在表单的左侧，有一列字段名称：电子邮件、优先级、问题、说明。 在表单的右侧，有一列控件，将显示相应字段的值。 字段名称的类型为`Label`，值控件是包括`TextField`、`TextArea`和`ComboBox`的混合控件。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501151232.png" alt="20240501151232.png" />
下面的代码显示为窗体创建的对象。“vbox”是`Scene`的根，也将包含表单底部的`ButtonBar`。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; priorities = FXCollections.observableArrayList(<span class="string">&quot;Medium&quot;</span>, <span class="string">&quot;High&quot;</span>, <span class="string">&quot;Low&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbPriority = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(priorities);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);</span><br><span class="line"><span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();</span><br></pre></td></tr></table></figure>
GridView有一个方便的方法`setGridLinesVisible()`，它可以显示网格结构和槽。 它在涉及跨越的更复杂的布局中特别有用，因为行/列分配中的间隙可能导致布局中的移动。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501151429.png" alt="20240501151429.png" />
### 间距
作为一个容器，`GridPane`有一个padding属性，可以设置为用空白包围`GridPane`内容。 “padding”将接受一个`Inset`对象作为参数。 在这个例子中，10个像素的空白被应用到所有的边，所以一个简短的形式构造器被用于`Inset`。
在`GridPane`中，vgap和hgap控制沟槽。 hgap设置为4，以保持字段接近其值。 vgap稍微大一点，以帮助鼠标导航。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );</span><br><span class="line">gp.setHgap( <span class="number">4</span> );</span><br><span class="line">gp.setVgap( <span class="number">8</span> );</span><br></pre></td></tr></table></figure>
为了保持表单的下部一致，在VBox上设置了`Priority`。 但是，这不会调整单个行的大小。 对于单个调整大小规格，请使用`ColumnConstraints`和`RowConstraints`。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBox.setVgrow(gp, Priority.ALWAYS );</span><br></pre></td></tr></table></figure>
### 添加项目
与`BorderPane`或`HBox`等容器不同，节点需要指定它们在`GridPane`中的位置。 这是通过`add()`上的`GridPane`方法完成的，而不是容器子属性上的add方法。 这种形式的`GridPane``add()`方法采用从零开始的列位置和从零开始的行位置。 这段代码将两个语句放在同一行以提高可读性。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gp.add( lblTitle,       <span class="number">1</span>, <span class="number">1</span>);  <span class="comment">// empty item at 0,0，按照网格坐标排版</span></span><br><span class="line">gp.add( lblEmail,       <span class="number">0</span>, <span class="number">2</span>); gp.add(tfEmail,        <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( lblPriority,    <span class="number">0</span>, <span class="number">3</span>); gp.add( cbPriority,    <span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">gp.add( lblProblem,     <span class="number">0</span>, <span class="number">4</span>); gp.add( tfProblem,     <span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">gp.add( lblDescription, <span class="number">0</span>, <span class="number">5</span>); gp.add( taDescription, <span class="number">1</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
lblTitle放在第一行的第二列。 第一行的第一列中没有条目。
随后的增加是成对的。 字段名`Label`对象放在第一列（列索引=0），值控件放在第二列（列索引=1）。 这些行由递增的第二个值相加。 例如，lblPriority与它的`ComboBox`一起放在沿着的第四行。
`GridPane`是JavaFX业务应用程序设计中的一个重要容器。 当您需要名称/值对时，`GridPane`将是支持传统表单的强列定向的简单方法。
### 完整代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.FXCollections;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.ObservableList;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.GridPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Priority;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> org.scenicview.ScenicView;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GridPaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();  </span><br><span class="line">        gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">        gp.setHgap( <span class="number">4</span> );  </span><br><span class="line">        gp.setVgap( <span class="number">8</span> );  </span><br><span class="line">  </span><br><span class="line">        VBox.setVgrow(gp, Priority.ALWAYS );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; priorities =  </span><br><span class="line">            FXCollections.observableArrayList(<span class="string">&quot;Medium&quot;</span>, <span class="string">&quot;High&quot;</span>, <span class="string">&quot;Low&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbPriority = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(priorities);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);  </span><br><span class="line">        <span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();  </span><br><span class="line">  </span><br><span class="line"><span class="comment">//        gp.setGridLinesVisible(true);  </span></span><br><span class="line">  </span><br><span class="line">        gp.add( lblTitle,       <span class="number">1</span>, <span class="number">1</span>);  <span class="comment">// empty item at 0,0  </span></span><br><span class="line">        gp.add( lblEmail,       <span class="number">0</span>, <span class="number">2</span>); gp.add(tfEmail,        <span class="number">1</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( lblPriority,    <span class="number">0</span>, <span class="number">3</span>); gp.add( cbPriority,    <span class="number">1</span>, <span class="number">3</span>);  </span><br><span class="line">        gp.add( lblProblem,     <span class="number">0</span>, <span class="number">4</span>); gp.add( tfProblem,     <span class="number">1</span>, <span class="number">4</span>);  </span><br><span class="line">        gp.add( lblDescription, <span class="number">0</span>, <span class="number">5</span>); gp.add( taDescription, <span class="number">1</span>, <span class="number">5</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Separator</span> <span class="variable">sep</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Separator</span>(); <span class="comment">// hr  </span></span><br><span class="line">  </span><br><span class="line">        <span class="type">ButtonBar</span> <span class="variable">buttonBar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonBar</span>();  </span><br><span class="line">        buttonBar.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">saveButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Save&quot;</span>);  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">cancelButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Cancel&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.setButtonData(saveButton, ButtonBar.ButtonData.OK_DONE);  </span><br><span class="line">        buttonBar.setButtonData(cancelButton, ButtonBar.ButtonData.CANCEL_CLOSE);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.getButtons().addAll(saveButton, cancelButton);  </span><br><span class="line">  </span><br><span class="line">        vbox.getChildren().addAll( gp, sep, buttonBar );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Grid Pane App&quot;</span>);  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.setWidth( <span class="number">736</span> );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">414</span>  );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">        ScenicView.show(scene);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
## 网格跨越
对于使用`GridPane`实现的更复杂的表单，支持跨越。 跨越允许控件声明相邻列（colspan）和相邻行（rowspan）的空间。 这个屏幕截图显示了一个扩展了上一节中的示例的表单。 早期版本的两栏布局已被多栏布局取代。 Problem和Description等字段保留原始结构。 但是控件被添加到以前只包含电子邮件和优先级的行中。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501153438.png" alt="20240501153438.png" />
打开轴网线时，请注意，前面的两列轴网线已替换为六列轴网线。 第三行包含六个项目-3个字段名/值对-指示结构。     表单的其余部分将使用跨度来填充空白。
此更新中使用的`VBox`和`GridPane`容器对象如下。 还有一点Vgap可以帮助用户选择`ComboBox`控件。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();</span><br><span class="line">gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );</span><br><span class="line">gp.setHgap( <span class="number">4</span> );</span><br><span class="line">gp.setVgap( <span class="number">10</span> );</span><br><span class="line"></span><br><span class="line">VBox.setVgrow(gp, Priority.ALWAYS );</span><br></pre></td></tr></table></figure>
这些是来自更新示例的控件创建语句。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Contract&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; priorities =</span><br><span class="line">    FXCollections.observableArrayList(<span class="string">&quot;Medium&quot;</span>, <span class="string">&quot;High&quot;</span>, <span class="string">&quot;Low&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbPriority = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(priorities);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblSeverity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Severity&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; severities =</span><br><span class="line">    FXCollections.observableArrayList(<span class="string">&quot;Blocker&quot;</span>, <span class="string">&quot;Workaround&quot;</span>, <span class="string">&quot;N/A&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbSeverity = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(severities);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblCategory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Category&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; categories =</span><br><span class="line">    FXCollections.observableArrayList(<span class="string">&quot;Bug&quot;</span>, <span class="string">&quot;Feature&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbCategory = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(categories);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);</span><br><span class="line"><span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();</span><br></pre></td></tr></table></figure>
与早期版本一样，使用`GridPane`方法将控件添加到`add()`。 指定了列和行。 在这个片段中，索引并不简单，因为有一些空白需要通过跨越内容来填充。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">gp.add( lblTitle,       <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// empty item at 0,0</span></span><br><span class="line"></span><br><span class="line">gp.add( lblEmail,       <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">gp.add(tfEmail,         <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">gp.add( lblContract,    <span class="number">4</span>, <span class="number">1</span> );</span><br><span class="line">gp.add( tfContract,     <span class="number">5</span>, <span class="number">1</span> );</span><br><span class="line"></span><br><span class="line">gp.add( lblPriority,    <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( cbPriority,     <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( lblSeverity,    <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( cbSeverity,     <span class="number">3</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( lblCategory,    <span class="number">4</span>, <span class="number">2</span>);</span><br><span class="line">gp.add( cbCategory,     <span class="number">5</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">gp.add( lblProblem,     <span class="number">0</span>, <span class="number">3</span>); gp.add( tfProblem,     <span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">gp.add( lblDescription, <span class="number">0</span>, <span class="number">4</span>); gp.add( taDescription, <span class="number">1</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
最后，使用静态方法在`GridPane`上设置生成定义。 有一个类似的方法来做行跨越。 标题将占据5列，问题和描述也是如此。 电子邮件与合同共享一行，但将占用更多列。 ComboBoxes的第三行是一组三个字段/值对，每个字段/值对占据一列。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GridPane.setColumnSpan( lblTitle, <span class="number">5</span> );</span><br><span class="line">GridPane.setColumnSpan( tfEmail, <span class="number">3</span> );</span><br><span class="line">GridPane.setColumnSpan( tfProblem, <span class="number">5</span> );</span><br><span class="line">GridPane.setColumnSpan( taDescription, <span class="number">5</span> );</span><br></pre></td></tr></table></figure>
或者，add（）方法的一个变体将columnSpan和rowSpan参数用于避免随后的静态方法调用。
这个扩展的`GridPane`示例演示了列跨越。 同样的功能也可用于行跨越，这将允许控件要求额外的垂直空间。 即使在给定行（或列）中的项数不同的情况下，跨度也会使控件保持对齐。 为了保持对跨主题的关注，这个网格允许列宽变化。 关于`ColumnConstraints`和`RowConstraints`的文章将重点关注通过更好地控制列（和行）来构建真正的模块化和列排版网格。
### 完整代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.FXCollections;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.ObservableList;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.GridPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Priority;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComplexGridPaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();  </span><br><span class="line">        gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">        gp.setHgap( <span class="number">4</span> );  </span><br><span class="line">        gp.setVgap( <span class="number">10</span> );  </span><br><span class="line">  </span><br><span class="line">        VBox.setVgrow(gp, Priority.ALWAYS );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Contract&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; priorities =  </span><br><span class="line">            FXCollections.observableArrayList(<span class="string">&quot;Medium&quot;</span>, <span class="string">&quot;High&quot;</span>, <span class="string">&quot;Low&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbPriority = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(priorities);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblSeverity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Severity&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; severities = FXCollections.observableArrayList(<span class="string">&quot;Blocker&quot;</span>, <span class="string">&quot;Workaround&quot;</span>, <span class="string">&quot;N/A&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbSeverity = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(severities);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblCategory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Category&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; categories = FXCollections.observableArrayList(<span class="string">&quot;Bug&quot;</span>, <span class="string">&quot;Feature&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbCategory = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(categories);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);  </span><br><span class="line">        <span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblTitle,       <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// empty item at 0,0  </span></span><br><span class="line">  </span><br><span class="line">        gp.add( lblEmail,       <span class="number">0</span>, <span class="number">1</span>);  </span><br><span class="line">        gp.add(tfEmail,         <span class="number">1</span>, <span class="number">1</span>);  </span><br><span class="line">        gp.add( lblContract,    <span class="number">4</span>, <span class="number">1</span> );  </span><br><span class="line">        gp.add( tfContract,     <span class="number">5</span>, <span class="number">1</span> );  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblPriority,    <span class="number">0</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( cbPriority,     <span class="number">1</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( lblSeverity,    <span class="number">2</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( cbSeverity,     <span class="number">3</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( lblCategory,    <span class="number">4</span>, <span class="number">2</span>);  </span><br><span class="line">        gp.add( cbCategory,     <span class="number">5</span>, <span class="number">2</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblProblem,     <span class="number">0</span>, <span class="number">3</span>); gp.add( tfProblem,     <span class="number">1</span>, <span class="number">3</span>);  </span><br><span class="line">        gp.add( lblDescription, <span class="number">0</span>, <span class="number">4</span>); gp.add( taDescription, <span class="number">1</span>, <span class="number">4</span>);  </span><br><span class="line">  </span><br><span class="line">        GridPane.setColumnSpan( lblTitle, <span class="number">5</span> );  </span><br><span class="line">        GridPane.setColumnSpan( tfEmail, <span class="number">3</span> );  </span><br><span class="line">        GridPane.setColumnSpan( tfProblem, <span class="number">5</span> );  </span><br><span class="line">        GridPane.setColumnSpan( taDescription, <span class="number">5</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Separator</span> <span class="variable">sep</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Separator</span>(); <span class="comment">// hr  </span></span><br><span class="line">  </span><br><span class="line">        <span class="type">ButtonBar</span> <span class="variable">buttonBar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonBar</span>();  </span><br><span class="line">        buttonBar.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">saveButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Save&quot;</span>);  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">cancelButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Cancel&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.setButtonData(saveButton, ButtonBar.ButtonData.OK_DONE);  </span><br><span class="line">        buttonBar.setButtonData(cancelButton, ButtonBar.ButtonData.CANCEL_CLOSE);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.getButtons().addAll(saveButton, cancelButton);  </span><br><span class="line">  </span><br><span class="line">        vbox.getChildren().addAll( gp, sep, buttonBar );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Grid Pane App&quot;</span>);  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.setWidth( <span class="number">736</span> );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">414</span>  );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
## 网格列约束和行约束
上一篇文章介绍了如何创建一个两列布局，字段名称在左侧，字段值在右侧。 该示例已扩展为向给定行添加更多控件，并在内容中使用跨越句柄间隙。 本文介绍了一对JavaFX类`GridPane`和`ColumnConstraints`。 这些类给予对行或列的附加说明。 在这个例子中，当窗口调整大小时，包含`RowConstraints`的行将被给予所有额外的空间。 这两列将被设置为宽度相等。
这个屏幕截图显示了一个从以前的文章修改的示例。 本文的演示程序有一种旋转的感觉，即字段名与字段值垂直配对（在值的顶部），而不是水平配对。 跨行和跨列用于对齐大于单个单元格的项。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501154341.png" alt="20240501154341.png" />
这段代码创建了`Scene`根和`GridPane`对象。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();</span><br><span class="line">gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );</span><br><span class="line">gp.setHgap( <span class="number">4</span> );</span><br><span class="line">gp.setVgap( <span class="number">10</span> );</span><br><span class="line"></span><br><span class="line">VBox.setVgrow(gp, Priority.ALWAYS );</span><br></pre></td></tr></table></figure>
此代码创建本文中使用的UI控件对象。 注意，Priority现在被实现为包含Radiobserver的`VBox`。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Contract&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);</span><br><span class="line"><span class="type">RadioButton</span> <span class="variable">rbMedium</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;Medium&quot;</span>);</span><br><span class="line"><span class="type">RadioButton</span> <span class="variable">rbHigh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;High&quot;</span>);</span><br><span class="line"><span class="type">RadioButton</span> <span class="variable">rbLow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;Low&quot;</span>);</span><br><span class="line"><span class="type">VBox</span> <span class="variable">priorityVBox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();</span><br><span class="line">priorityVBox.setSpacing( <span class="number">2</span> );</span><br><span class="line">GridPane.setVgrow(priorityVBox, Priority.SOMETIMES);</span><br><span class="line">priorityVBox.getChildren().addAll( lblPriority, rbMedium, rbHigh, rbLow );</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblSeverity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Severity&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; severities =</span><br><span class="line">    FXCollections.observableArrayList(<span class="string">&quot;Blocker&quot;</span>, <span class="string">&quot;Workaround&quot;</span>, <span class="string">&quot;N/A&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbSeverity = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(severities);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblCategory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Category&quot;</span>);</span><br><span class="line">ObservableList&lt;String&gt; categories =</span><br><span class="line">    FXCollections.observableArrayList(<span class="string">&quot;Bug&quot;</span>, <span class="string">&quot;Feature&quot;</span>);</span><br><span class="line">ComboBox&lt;String&gt; cbCategory = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(categories);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);</span><br><span class="line"><span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);</span><br><span class="line"><span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();</span><br></pre></td></tr></table></figure>
电子邮件、合同、问题和说明的标签和值控制配对放在一个列中。 它们应该采用`GridPane`的整个宽度，因此每个都将其columnSpan设置为2。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GridPane.setColumnSpan( tfEmail, <span class="number">2</span> );</span><br><span class="line">GridPane.setColumnSpan( tfContract, <span class="number">2</span> );</span><br><span class="line">GridPane.setColumnSpan( tfProblem, <span class="number">2</span> );</span><br><span class="line">GridPane.setColumnSpan( taDescription, <span class="number">2</span> );</span><br></pre></td></tr></table></figure>
新的优先级无线电水平匹配的严重性和类别的四个控件。 这个rowSpan设置指示JavaFX将包含RadioButton的VBox放在一个高度为四行的合并单元格中。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GridPane.setRowSpan( priorityVBox, <span class="number">4</span> );</span><br></pre></td></tr></table></figure>
## 行约束
此时，代码反映了[使用行和列跨越的示例应用程序](https://fxdocs.github.io/docs/html5/#initial_image)中提供的UI屏幕截图。 要重新分配窗体底部的额外空间，请使用RowConstraints对象在`TextArea`的行上设置Priority.ALWAYS。 这将导致`TextArea`增长，以填充可用的空间。
这段代码是一个`RowConstraints`对象到`GridPane`的`TextArea`。 在setter之前，`RowConstraints`对象被分配给所有其他行。 当您指定第12行而没有首先分配对象时，`getRowConstraints()`的set方法将抛出一个索引异常。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RowConstraints</span> <span class="variable">taDescriptionRowConstraints</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RowConstraints</span>();</span><br><span class="line">taDescriptionRowConstraints.setVgrow(Priority.ALWAYS);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( <span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">13</span>; i++ ) &#123;</span><br><span class="line">    gp.getRowConstraints().add( <span class="keyword">new</span> <span class="title class_">RowConstraints</span>() );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">gp.getRowConstraints().set( <span class="number">12</span>, taDescriptionRowConstraints );</span><br></pre></td></tr></table></figure>
作为替代语法，有一个setConstraints（）方法可从`GridPane`中获得。 这将传入几个值，并消除了对`TextArea`的专用columnSpan set调用的需要。 前面清单中的`RowConstraints`代码将不会出现在完成的程序中。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gp.setConstraints(taDescription,</span><br><span class="line">                  <span class="number">0</span>, <span class="number">12</span>,</span><br><span class="line">                  <span class="number">2</span>, <span class="number">1</span>,</span><br><span class="line">                  HPos.LEFT, VPos.TOP,</span><br><span class="line">                  Priority.SOMETIMES, Priority.ALWAYS);</span><br></pre></td></tr></table></figure>
此代码标识（0，12）处的`Node`，即`TextArea`。 `TextArea`将跨越2列，但只有1行。 HPos和Vpos设置为左上角。 最后，hgrow的`Priority`是SOMETIMES，vgrow是ALWAYS。 由于`TextArea`是唯一一行"ALWAYS"，它将获得额外的空间。 如果有其他ALWAYS设置，则空间将在多行之间共享。
## 列约束
要正确分配Severity和Category控件周围的空间，将指定ColumnConstraints。 默认行为分配给第一列的空间较少，因为Priority RadioValue较小。 下面的线框显示了所需的布局，其中具有由4像素（Hgap）的gutter分隔的相等列。
要使列宽相等，请定义两个`ColumnConstraint`对象并使用百分比说明符。
这样才会保持横向比例：
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ColumnConstraints</span> <span class="variable">col1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ColumnConstraints</span>();</span><br><span class="line">col1.setPercentWidth( <span class="number">50</span> );</span><br><span class="line"><span class="type">ColumnConstraints</span> <span class="variable">col2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ColumnConstraints</span>();</span><br><span class="line">col2.setPercentWidth( <span class="number">50</span> );</span><br><span class="line">gp.getColumnConstraints().addAll( col1, col2 );</span><br></pre></td></tr></table></figure>
### 完整代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.FXCollections;  </span><br><span class="line"><span class="keyword">import</span> javafx.collections.ObservableList;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.HPos;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Insets;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.VPos;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.*;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.ColumnConstraints;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.GridPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.Priority;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.VBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> org.scenicview.ScenicView;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConstraintsGridPaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">vbox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">GridPane</span> <span class="variable">gp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GridPane</span>();  </span><br><span class="line">        gp.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">        gp.setHgap( <span class="number">4</span> );  </span><br><span class="line">        gp.setVgap( <span class="number">10</span> );  </span><br><span class="line">  </span><br><span class="line">        VBox.setVgrow(gp, Priority.ALWAYS );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblTitle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Support Ticket&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Email&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfEmail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Contract&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfContract</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblPriority</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Priority&quot;</span>);  </span><br><span class="line">        <span class="type">RadioButton</span> <span class="variable">rbMedium</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;Medium&quot;</span>);  </span><br><span class="line">        <span class="type">RadioButton</span> <span class="variable">rbHigh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;High&quot;</span>);  </span><br><span class="line">        <span class="type">RadioButton</span> <span class="variable">rbLow</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RadioButton</span>(<span class="string">&quot;Low&quot;</span>);  </span><br><span class="line">        <span class="type">VBox</span> <span class="variable">priorityVBox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VBox</span>();  </span><br><span class="line">        priorityVBox.setSpacing( <span class="number">2</span> );  </span><br><span class="line">        GridPane.setVgrow(priorityVBox, Priority.ALWAYS);  </span><br><span class="line">        priorityVBox.getChildren().addAll( lblPriority, rbMedium, rbHigh, rbLow );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblSeverity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Severity&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; severities = FXCollections.observableArrayList(<span class="string">&quot;Blocker&quot;</span>, <span class="string">&quot;Workaround&quot;</span>, <span class="string">&quot;N/A&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbSeverity = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(severities);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblCategory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Category&quot;</span>);  </span><br><span class="line">        ObservableList&lt;String&gt; categories = FXCollections.observableArrayList(<span class="string">&quot;Bug&quot;</span>, <span class="string">&quot;Feature&quot;</span>);  </span><br><span class="line">        ComboBox&lt;String&gt; cbCategory = <span class="keyword">new</span> <span class="title class_">ComboBox</span>&lt;&gt;(categories);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Problem&quot;</span>);  </span><br><span class="line">        <span class="type">TextField</span> <span class="variable">tfProblem</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextField</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">lblDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Description&quot;</span>);  </span><br><span class="line">        <span class="type">TextArea</span> <span class="variable">taDescription</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblTitle,       <span class="number">0</span>, <span class="number">0</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblEmail,       <span class="number">0</span>, <span class="number">1</span>);  </span><br><span class="line">        gp.add(tfEmail,         <span class="number">0</span>, <span class="number">2</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblContract,    <span class="number">0</span>, <span class="number">3</span> );  </span><br><span class="line">        gp.add( tfContract,     <span class="number">0</span>, <span class="number">4</span> );  </span><br><span class="line">  </span><br><span class="line">        gp.add( priorityVBox,   <span class="number">0</span>, <span class="number">5</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblSeverity,    <span class="number">1</span>, <span class="number">5</span>);  </span><br><span class="line">        gp.add( cbSeverity,     <span class="number">1</span>, <span class="number">6</span>);  </span><br><span class="line">        gp.add( lblCategory,    <span class="number">1</span>, <span class="number">7</span>);  </span><br><span class="line">        gp.add( cbCategory,     <span class="number">1</span>, <span class="number">8</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblProblem,     <span class="number">0</span>, <span class="number">9</span>);  </span><br><span class="line">        gp.add( tfProblem,      <span class="number">0</span>, <span class="number">10</span>);  </span><br><span class="line">  </span><br><span class="line">        gp.add( lblDescription, <span class="number">0</span>, <span class="number">11</span>);  </span><br><span class="line">        gp.add( taDescription,  <span class="number">0</span>, <span class="number">12</span>);  </span><br><span class="line">  </span><br><span class="line">        GridPane.setColumnSpan( tfEmail, <span class="number">2</span> );  </span><br><span class="line">        GridPane.setColumnSpan( tfContract, <span class="number">2</span> );  </span><br><span class="line">        GridPane.setColumnSpan( tfProblem, <span class="number">2</span> );  </span><br><span class="line">  </span><br><span class="line">        GridPane.setRowSpan( priorityVBox, <span class="number">4</span> );  </span><br><span class="line">  </span><br><span class="line">        gp.setConstraints(taDescription,  </span><br><span class="line">                          <span class="number">0</span>, <span class="number">12</span>,  </span><br><span class="line">                          <span class="number">2</span>, <span class="number">1</span>,  </span><br><span class="line">                          HPos.LEFT, VPos.TOP,  </span><br><span class="line">                          Priority.SOMETIMES, Priority.ALWAYS);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">ColumnConstraints</span> <span class="variable">col1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ColumnConstraints</span>();  </span><br><span class="line">        col1.setPercentWidth( <span class="number">50</span> );  </span><br><span class="line">        <span class="type">ColumnConstraints</span> <span class="variable">col2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ColumnConstraints</span>();  </span><br><span class="line">        col2.setPercentWidth( <span class="number">50</span> );  </span><br><span class="line">        gp.getColumnConstraints().addAll( col1, col2 );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Separator</span> <span class="variable">sep</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Separator</span>(); <span class="comment">// hr  </span></span><br><span class="line">  </span><br><span class="line">        <span class="type">ButtonBar</span> <span class="variable">buttonBar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ButtonBar</span>();  </span><br><span class="line">        buttonBar.setPadding( <span class="keyword">new</span> <span class="title class_">Insets</span>(<span class="number">10</span>) );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">saveButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Save&quot;</span>);  </span><br><span class="line">        <span class="type">Button</span> <span class="variable">cancelButton</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Cancel&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.setButtonData(saveButton, ButtonBar.ButtonData.OK_DONE);  </span><br><span class="line">        buttonBar.setButtonData(cancelButton, ButtonBar.ButtonData.CANCEL_CLOSE);  </span><br><span class="line">  </span><br><span class="line">        buttonBar.getButtons().addAll(saveButton, cancelButton);  </span><br><span class="line">  </span><br><span class="line">        vbox.getChildren().addAll( gp, sep, buttonBar );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(vbox);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;Grid Pane App&quot;</span>);  </span><br><span class="line">        primaryStage.setScene(scene);  </span><br><span class="line">        primaryStage.setWidth( <span class="number">414</span> );  </span><br><span class="line">        primaryStage.setHeight( <span class="number">736</span>  );  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">        ScenicView.show(scene);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
运行结果如下： 
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501162331.png" alt="20240501162331.png" />
## AnchorPane
`AnchorPane`是一个容器控件，它根据边缘定义其布局。 当放置在容器中时，`AnchorPane`拉伸以填充可用空间。 `AnchorPane`的子元素将它们的位置和大小表示为与边的距离：Top、Left、Bottom、Right。 如果一个或两个锚设置被放置在`AnchorPane`子项上，则子项将被固定到窗口的该角。 如果使用了两个以上的锚设置，子对象将被拉伸以填充可用的水平和垂直空间。
这个模型显示了一个被一组控件包围的`TextArea`：一个`Hyperlink`和两个状态指示器。 由于`TextArea`将包含所有内容，因此它最初应该占用大部分空间，并且应该通过调整大小获得任何额外的空间。 在外围，右上角有一个`Hyperlink`，右下角有一个连接`Label`和`Circle`，左下角有一个状态`Label`。
### 锚点
要开始布局，请创建一个`AnchorPane`对象并将其添加到`Scene`。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AnchorPane</span> <span class="variable">ap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnchorPane</span>();</span><br><span class="line"><span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(ap);</span><br></pre></td></tr></table></figure>
使用AnchoreMap类的静态方法设置参数。 方法-每条边一个-接受`Node`和偏移。     对于`Hyperlink`，将设置顶边锚和右边锚。 将每条边的偏移设置为10.0，以便链接不会被压缩到侧面。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hyperlink</span> <span class="variable">signoutLink</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hyperlink</span>(<span class="string">&quot;Sign Out&quot;</span>);</span><br><span class="line"></span><br><span class="line">ap.getChildren().add( signoutLink );</span><br><span class="line"></span><br><span class="line">AnchorPane.setTopAnchor( signoutLink, <span class="number">10.0d</span> );</span><br><span class="line">AnchorPane.setRightAnchor( signoutLink, <span class="number">10.0d</span> );</span><br></pre></td></tr></table></figure>
当屏幕调整大小时，锚定器将调整大小，而signoutLink将保持其右上角的位置。 因为既没有指定左锚点也没有指定下锚点，所以不会拉伸signoutLink。
接下来，添加连接`Label`和`Circle`。 这些控件被包装在一个`HBox`中。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">circle.setFill(Color.GREEN );</span><br><span class="line">circle.setRadius(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Label</span> <span class="variable">connLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Connection&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">HBox</span> <span class="variable">connHBox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();</span><br><span class="line">connHBox.setSpacing( <span class="number">4.0d</span> );</span><br><span class="line">connHBox.setAlignment(Pos.BOTTOM_RIGHT);</span><br><span class="line">connHBox.getChildren().addAll( connLabel, circle );</span><br><span class="line"></span><br><span class="line">AnchorPane.setBottomAnchor( connHBox, <span class="number">10.0d</span> );</span><br><span class="line">AnchorPane.setRightAnchor( connHBox, <span class="number">10.0d</span> );</span><br><span class="line"></span><br><span class="line">ap.getChildren().add( connHBox );</span><br></pre></td></tr></table></figure>
与signoutLink一样，connHBox固定在屏幕上的某个位置。 connHBox设置为距离底部边缘10像素，距离右侧边缘10像素。
添加左下角状态`Label`。 左侧和底部锚点已设置。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Label</span> <span class="variable">statusLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Program status&quot;</span>);</span><br><span class="line">ap.getChildren().add( statusLabel );</span><br><span class="line"></span><br><span class="line">AnchorPane.setBottomAnchor( statusLabel, <span class="number">10.0d</span> );</span><br><span class="line">AnchorPane.setLeftAnchor( statusLabel, <span class="number">10.0d</span> );</span><br></pre></td></tr></table></figure>
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501171048.png" alt="20240501171048.png" />
### 调整大小
外围上的控件大小可能不同。例如，状态消息或连接消息可以更长。 然而，通过将左下状态`Label`向右延伸并将右下连接状态`Label`向左延伸，可以在该布局中容纳额外的长度。 使用此布局调整大小将以绝对值移动这些控件，但它们将保留各自的边缘加上偏移量。
但这并不意味着#1。 因为`TextArea`可能包含很多内容，所以它应该接收用户给窗口的任何额外空间。 此控件将锚定到`TextArea`的所有四个角。 这将导致`AnchorPane`在窗口调整大小时调整大小。 `TextArea`固定在左上角，当用户将窗口手柄拖到右下角时，`TextArea`的右下角也会移动。
突出显示的框显示与`TextArea`相邻的控件相对于边保持其位置。 `TextArea`本身的大小是基于窗口大小调整。 `TextArea`的顶部和底部偏移量考虑了其他控件，因此它们不会被隐藏。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();</span><br><span class="line"></span><br><span class="line">AnchorPane.setTopAnchor( ta, <span class="number">40.0d</span> );</span><br><span class="line">AnchorPane.setBottomAnchor( ta, <span class="number">40.0d</span> );</span><br><span class="line">AnchorPane.setRightAnchor( ta, <span class="number">10.0d</span> );</span><br><span class="line">AnchorPane.setLeftAnchor( ta, <span class="number">10.0d</span> );</span><br><span class="line"></span><br><span class="line">ap.getChildren().add( ta );</span><br></pre></td></tr></table></figure>
`AnchorPane`是一个很好的选择，当你有一个可调整大小和固定位置的子项的混合。 如果只有一个子项需要安装，则首选其他控件（如带有`VBox`设置的`HBox`和`Priority`）。 使用这些控件而不是`AnchorPane`，其中单个子控件设置了所有四个锚点。 请记住，要在子对象上设置锚，您需要使用容器类的静态方法，如Anchorect.setTop锚（）。
### 完整代码
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.y5neko.layout;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> javafx.application.Application;  </span><br><span class="line"><span class="keyword">import</span> javafx.geometry.Pos;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Hyperlink;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Label;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.TextArea;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.AnchorPane;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.HBox;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.paint.Color;  </span><br><span class="line"><span class="keyword">import</span> javafx.scene.shape.Circle;  </span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;  </span><br><span class="line"><span class="keyword">import</span> org.scenicview.ScenicView;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnchorPaneApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">AnchorPane</span> <span class="variable">ap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnchorPane</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// upper-right sign out control  </span></span><br><span class="line">        <span class="type">Hyperlink</span> <span class="variable">signoutLink</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hyperlink</span>(<span class="string">&quot;Sign Out&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        ap.getChildren().add( signoutLink );  </span><br><span class="line">  </span><br><span class="line">        AnchorPane.setTopAnchor( signoutLink, <span class="number">10.0d</span> );  </span><br><span class="line">        AnchorPane.setRightAnchor( signoutLink, <span class="number">10.0d</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// lower-left status label  </span></span><br><span class="line">        <span class="type">Label</span> <span class="variable">statusLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Program status&quot;</span>);  </span><br><span class="line">        ap.getChildren().add( statusLabel );  </span><br><span class="line">  </span><br><span class="line">        AnchorPane.setBottomAnchor( statusLabel, <span class="number">10.0d</span> );  </span><br><span class="line">        AnchorPane.setLeftAnchor( statusLabel, <span class="number">10.0d</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// lower-right connection status control  </span></span><br><span class="line">        <span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();  </span><br><span class="line">        circle.setFill(Color.GREEN );  </span><br><span class="line">        circle.setRadius(<span class="number">10</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Label</span> <span class="variable">connLabel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Connection&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="type">HBox</span> <span class="variable">connHBox</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HBox</span>();  </span><br><span class="line">        connHBox.setSpacing( <span class="number">4.0d</span> );  </span><br><span class="line">        connHBox.setAlignment(Pos.BOTTOM_RIGHT);  </span><br><span class="line">        connHBox.getChildren().addAll( connLabel, circle );  </span><br><span class="line">  </span><br><span class="line">        AnchorPane.setBottomAnchor( connHBox, <span class="number">10.0d</span> );  </span><br><span class="line">        AnchorPane.setRightAnchor( connHBox, <span class="number">10.0d</span> );  </span><br><span class="line">  </span><br><span class="line">        ap.getChildren().add( connHBox );  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// top-left content; takes up extra space  </span></span><br><span class="line">        <span class="type">TextArea</span> <span class="variable">ta</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TextArea</span>();  </span><br><span class="line">        ap.getChildren().add( ta );  </span><br><span class="line">  </span><br><span class="line">        AnchorPane.setTopAnchor( ta, <span class="number">40.0d</span> );  </span><br><span class="line">        AnchorPane.setBottomAnchor( ta, <span class="number">40.0d</span> );  </span><br><span class="line">        AnchorPane.setRightAnchor( ta, <span class="number">10.0d</span> );  </span><br><span class="line">        AnchorPane.setLeftAnchor( ta, <span class="number">10.0d</span> );  </span><br><span class="line">  </span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(ap);  </span><br><span class="line">  </span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;AnchorPaneApp&quot;</span>);  </span><br><span class="line">        primaryStage.setScene( scene );  </span><br><span class="line">        primaryStage.setWidth(<span class="number">568</span>);  </span><br><span class="line">        primaryStage.setHeight(<span class="number">320</span>);  </span><br><span class="line">        primaryStage.show();  </span><br><span class="line">  </span><br><span class="line">        ScenicView.show(scene);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        launch(args);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
## TilePane 
`TilePane`用于相同大小的单元格的网格布局。 prefColumns和prefcountries属性定义网格中的行数和列数。 要将节点添加到`TilePane`，请访问children属性并调用add（）或addAll（）方法。 这比需要显式设置节点的行/列位置的`GridPane`更容易使用。
此屏幕截图显示了一个定义为3 × 3网格的`TilePane`。 `TilePane`包含9个`Rectangle`对象。
下面是三乘三网格的完整代码。 `TilePane`的children属性提供了addAll（）方法，`Rectangle`对象将添加到该方法中。 tileAlignment属性将每个`Rectangle`对象定位在其对应图块的中心。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreeByThreeApp</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">TilePane</span> <span class="variable">tilePane</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TilePane</span>();</span><br><span class="line">        tilePane.setPrefColumns(<span class="number">3</span>);</span><br><span class="line">        tilePane.setPrefRows(<span class="number">3</span>);</span><br><span class="line">        tilePane.setTileAlignment( Pos.CENTER );</span><br><span class="line"></span><br><span class="line">        tilePane.getChildren().addAll(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>(<span class="number">50</span>, <span class="number">50</span>, Color.RED),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.GREEN ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.BLUE ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.YELLOW ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.CYAN ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.PURPLE ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.BROWN ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.PINK ),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Rectangle</span>( <span class="number">50</span>, <span class="number">50</span>, Color.ORANGE )</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(tilePane);</span><br><span class="line">        scene.setFill(Color.LIGHTGRAY);</span><br><span class="line"></span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;3x3&quot;</span>);</span><br><span class="line">        primaryStage.setScene( scene );</span><br><span class="line">        primaryStage.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;launch(args);&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501171847.png" alt="20240501171847.png" />
由于`Node`的所有`TilePane`内容都是大小相等的矩形，因此布局被打包在一起，并且tileAlignment设置不明显。 当tilePrefHeight和tilePrefWidth属性被设置为大于内容时—比如100x100个瓷砖包含50x50个矩形—tileAlignment将决定如何使用额外的空间。
请参见以下修改后的ThreeByThreeApp类，它设置了tilePrefHeight和tilePrefWidth。
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tilePane.setPrefTileHeight(<span class="number">100</span>);</span><br><span class="line">tilePane.setPrefTileWidth(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501171957.png" alt="20240501171957.png" />
在前面的屏幕截图中，为3 × 3网格提供了9个Rectangle对象。 如果内容与`TilePane`定义不匹配，则这些单元格将折叠。 这个修改只增加了五个矩形而不是九个。 第一行包含所有三个图块的内容。 第二行仅包含前两个文件的内容。 第三行完全不见了。
<img src= "/img/friend_404.gif" data-lazy-src="/image/Pasted image 20240501172158.png" alt="20240501172158.png" />
有一个属性“orientation”，指示`TilePane`逐行（HORIZONTAL，默认值）或逐列（VERTICAL）添加项目。 如果使用VERTICAL，那么第一列将有三个元素，第二列将只有前两个元素，第三列将缺失。 这个屏幕截图显示了使用垂直方向将五个矩形添加到三乘三的网格（九个瓷砖）中。</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://y5neko.github.io">Y5neKO</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://y5neko.github.io/2024/05/03/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8EJavaFX%E7%9A%84%E8%AE%B0%E5%BD%95/">https://y5neko.github.io/2024/05/03/一些关于JavaFX的记录/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://y5neko.github.io" target="_blank">Y5neKO's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post_share"><div class="social-share" data-image="/image/Pasted%20image%2020240503162825.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/03/28/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/Pasted%20image%2020240328112106.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数据结构</div></div></a></div><div class="next-post pull-right"><a href="/2024/08/09/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E8%AF%95%E5%88%86%E5%8C%BA%E5%9D%97%E6%80%BB%E7%BB%93/" title="渗透测试面试分区块总结"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/image-20230926215400707.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">渗透测试面试分区块总结</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/03/25/IDA%20Pro%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/" title="IDA Pro操作指南"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/Pasted%20image%2020240329103100.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-25</div><div class="title">IDA Pro操作指南</div></div></a></div><div><a href="/2023/03/06/Java%E5%9F%BA%E7%A1%80/" title="Java学习笔记"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/image-20220429122054874.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-06</div><div class="title">Java学习笔记</div></div></a></div><div><a href="/2023/03/29/Linux%E8%BF%90%E7%BB%B4%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" title="Linux运维疑难杂症"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/337b44cbd42152857ed44339a37e878c.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-29</div><div class="title">Linux运维疑难杂症</div></div></a></div><div><a href="/2024/08/20/Java%E5%AE%89%E5%85%A8/" title="Java安全基础"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/image-20230808142318172.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-20</div><div class="title">Java安全基础</div></div></a></div><div><a href="/2024/09/12/Nanocore%E6%81%B6%E6%84%8F%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90/" title="Nanocore恶意程序分析"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/image-20240912170857294.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-12</div><div class="title">Nanocore恶意程序分析</div></div></a></div><div><a href="/2024/12/09/msi%E6%A0%B7%E6%9C%AC%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95/" title="MSI样本分析方法"><img class="cover" src= "/img/friend_404.gif" data-lazy-src="/image/image-20241105145700564.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-09</div><div class="title">MSI样本分析方法</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.</span> <span class="toc-text">环境准备</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Scene%E5%9B%BE"><span class="toc-number">2.</span> <span class="toc-text">Scene图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Transformations"><span class="toc-number">2.1.</span> <span class="toc-text">Transformations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Translate"><span class="toc-number">2.1.1.</span> <span class="toc-text">Translate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scale"><span class="toc-number">2.1.2.</span> <span class="toc-text">Scale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rotate"><span class="toc-number">2.1.3.</span> <span class="toc-text">Rotate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event-Handling"><span class="toc-number">2.2.</span> <span class="toc-text">Event Handling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.2.1.</span> <span class="toc-text">输入事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Timing"><span class="toc-number">2.3.</span> <span class="toc-text">Timing</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UI%E6%8E%A7%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">UI控件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ChoiceBox"><span class="toc-number">3.1.</span> <span class="toc-text">ChoiceBox</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#StringConverter"><span class="toc-number">3.1.1.</span> <span class="toc-text">StringConverter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ComboBox"><span class="toc-number">3.2.</span> <span class="toc-text">ComboBox</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CellFactory"><span class="toc-number">3.2.1.</span> <span class="toc-text">CellFactory</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ListView"><span class="toc-number">3.3.</span> <span class="toc-text">ListView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaFX%E4%B8%AD%E7%9A%84ListView-Filtering"><span class="toc-number">3.3.1.</span> <span class="toc-text">JavaFX中的ListView Filtering</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">数据结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Model"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">Model</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Filtering-Action"><span class="toc-number">3.3.1.3.</span> <span class="toc-text">Filtering Action</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ListView-1"><span class="toc-number">3.3.1.4.</span> <span class="toc-text">ListView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span class="toc-number">3.3.1.5.</span> <span class="toc-text">完整代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TableView"><span class="toc-number">3.4.</span> <span class="toc-text">TableView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%A3%B0%E6%98%8E"><span class="toc-number">3.4.1.</span> <span class="toc-text">模型及声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Selection"><span class="toc-number">3.4.2.</span> <span class="toc-text">Selection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-1"><span class="toc-number">3.4.3.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ImageView"><span class="toc-number">3.5.</span> <span class="toc-text">ImageView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Image"><span class="toc-number">3.5.1.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ImageView-1"><span class="toc-number">3.5.2.</span> <span class="toc-text">ImageView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-2"><span class="toc-number">3.5.3.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LineChart"><span class="toc-number">3.6.</span> <span class="toc-text">LineChart</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Data"><span class="toc-number">3.6.1.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E8%A1%A8"><span class="toc-number">3.6.2.</span> <span class="toc-text">图表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-3"><span class="toc-number">3.6.3.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5"><span class="toc-number">3.7.</span> <span class="toc-text">分页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SlideShow%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.7.1.</span> <span class="toc-text">SlideShow应用程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-4"><span class="toc-number">3.7.2.</span> <span class="toc-text">完整代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-number">4.</span> <span class="toc-text">布局</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#VBox%E5%92%8CHBox"><span class="toc-number">4.1.</span> <span class="toc-text">VBox和HBox</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Structure"><span class="toc-number">4.1.1.</span> <span class="toc-text">Structure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Alignment-%E5%92%8C-Hgrow"><span class="toc-number">4.1.2.</span> <span class="toc-text">Alignment 和 Hgrow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vgrow"><span class="toc-number">4.1.3.</span> <span class="toc-text">Vgrow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Margin"><span class="toc-number">4.1.4.</span> <span class="toc-text">Margin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="toc-number">4.1.5.</span> <span class="toc-text">选择合适的容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-5"><span class="toc-number">4.1.6.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#StackPane"><span class="toc-number">4.2.</span> <span class="toc-text">StackPane</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%AE%9A%E4%BD%8D%EF%BC%88%E5%B8%A6Pane%EF%BC%89"><span class="toc-number">4.3.</span> <span class="toc-text">绝对定位（带Pane）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pane%E5%B0%BA%E5%AF%B8"><span class="toc-number">4.3.1.</span> <span class="toc-text">Pane尺寸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Pane"><span class="toc-number">4.3.2.</span> <span class="toc-text">The Pane</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A2%E7%8A%B6"><span class="toc-number">4.3.3.</span> <span class="toc-text">形状</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E9%93%BE%E6%8E%A5"><span class="toc-number">4.3.4.</span> <span class="toc-text">超链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Z-Order"><span class="toc-number">4.3.5.</span> <span class="toc-text">Z-Order</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-6"><span class="toc-number">4.3.6.</span> <span class="toc-text">完整代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Clipping"><span class="toc-number">4.4.</span> <span class="toc-text">Clipping</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA"><span class="toc-number">4.4.1.</span> <span class="toc-text">默认行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%89%AA%E8%A3%81"><span class="toc-number">4.4.2.</span> <span class="toc-text">简单剪裁</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2024 By Y5neKO</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">行走于黑白之间.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: '4d2d58bafea4c026b68f',
      clientSecret: '61a3976d66520d7bfd80d2de0e9e60fe31820603',
      repo: 'y5neko.github.io',
      owner: 'Y5neKO',
      admin: ['Y5neKO'],
      id: 'da20fbf136565d83e0b48f11bd66fec1',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><div class="aplayer no-destroy" data-id="2102314888" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-mini="true"> </div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>